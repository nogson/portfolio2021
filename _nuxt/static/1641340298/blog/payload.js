__NUXT_JSONP__("/blog", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV){return {data:[{contents:[{slug:"20211228",description:"Blenderでメッシュの頂点の位置を変化させてアニメーションするやり方です。",id:20211228,title:"Blenderでシェイプキーを使ったアニメーション",createdAt:"2021-12-28T00:00:00.000Z",thumbnail:cq,category:cr,toc:[],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"シェイプキーは、「メッシュオブジェクトの頂点・辺・面などの情報を記憶させておける機能」のことのようです。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nモーフィングアニメーションできないかな〜と思い調べていたら出てきました。"}]},{type:a,value:c},{type:b,tag:Z,props:{id:cs},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AB%E3%82%B7%E3%82%A7%E3%82%A4%E3%83%97%E3%82%AD%E3%83%BC%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cs}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"まず、基本となるシェイプキーを追加します。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"オブジェクトを選択して、「オブジェクトプロパティ \u003E シェイプキー」の「+」ボタンを押します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211228\u002F01.png",alt:ct},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"次に「+」ボタンを押して、形状変更用のシェイプキーを作成します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211228\u002F02.png",alt:ct},children:[]}]},{type:a,value:c},{type:b,tag:Z,props:{id:aa},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%95%E3%81%9B%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aa}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"形状変更用に追加した、「キー1」のシェイプキーを選択した状態で、オブジェクトを編集して形状を変更してみます。"},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211228\u002F03.png",alt:aa},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タイムラインで1フレーム目を選択します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n対象のオブジェクト、「キー1」のシェイプキーを選択した状態で「値」のフィールドで右クリックします。\n"},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211228\u002F04.png",alt:aa},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"表示されたコンテキストボックスの中から「キーフレームを挿入」を選択する。"},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211228\u002F05.png",alt:aa},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タイムラインで50フレーム目を選択します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n対象のオブジェクト、「キー1」のシェイプキーを選択した状態で「値」のフィールドで右クリックし、キーフレームを挿入します。\n"},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211228\u002F06.png",alt:aa},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"最終的にはこんな感じのタイムラインになる。"}]},{type:a,value:c},{type:b,tag:ab,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"0フレーム ・・・値:0"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"50フレーム ・・・値:1"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"100フレーム ・・・値:0"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211228\u002F07.png",alt:aa},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"こんな感じでアニメーションさせることができる。\n"},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211228\u002F08.gif",alt:aa},children:[]}]}]},dir:H,path:"\u002Fblog\u002F20211228",extension:I,updatedAt:J},{slug:"20211222",description:"VueでJestを利用した際に、テストしやすいように関数や、グローバルオブジェクトなどmock化する為のメモです。",id:20211222,title:"Jestであれこれmockを作成する方法",createdAt:"2021-12-22T00:00:00.000Z",thumbnail:"blog\u002Fimages\u002Fjest_thumb.png",category:aG,toc:[],body:{type:F,children:[{type:b,tag:Z,props:{id:cu},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#window%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92mock%E5%8C%96%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cu}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"windowサイズを使っている関数などをテストする為に、windowオブジェクトをモック化する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"const originalWindow = { ...window }\nconst windowSpy = jest.spyOn(global, 'window', 'get')\nwindowSpy.mockImplementation(() =\u003E ({\n  ...originalWindow,\n  innerWidth: 1920,\n innerHeight: 1200\n}))\n\n... テストを書く\n\nwindowSpy.mockRestore()\n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20211222",extension:I,updatedAt:J},{slug:"20211218",description:"Blenderでよく忘れてしまう設定とショートカットを自分用にメモしています。",id:20211218,title:"Blenderでよく忘れてしまう設定とショートカットメモ",createdAt:"2021-12-18T00:00:00.000Z",thumbnail:cq,category:cr,toc:[{id:aH,depth:v,text:aH}],body:{type:F,children:[{type:b,tag:Z,props:{id:"blenderで表示単位を変更する"},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#blender%E3%81%A7%E8%A1%A8%E7%A4%BA%E5%8D%98%E4%BD%8D%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:"Blenderで表示単位を変更する"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"初期設定の単位はメートル法になっています。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nもう少し小さい単位で作業したい場合に、表示の単位を変更する方法です。"}]},{type:a,value:c},{type:b,tag:w,props:{id:aH},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E5%8D%98%E4%BD%8D%E3%82%92%E3%82%BB%E3%83%B3%E3%83%81%E3%83%A1%E3%83%BC%E3%83%88%E3%83%AB%E3%81%AB%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aH}]},{type:a,value:c},{type:b,tag:ae,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"「シーン \u003E 単位 \u003E 長さ \u003E centimeters」に変更"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"ガイドがメートル単位になっているので、「拡大縮小」を0.01に変更"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211218\u002F01.png",alt:cv},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"画面の表示はこんな感じ。"},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211218\u002F02.png",alt:cv},children:[]}]},{type:a,value:c},{type:b,tag:Z,props:{id:cw},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%82%88%E3%81%8F%E5%BF%98%E3%82%8C%E3%82%8B%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%AB%E3%83%83%E3%83%88",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cw}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:ai,props:{},children:[{type:b,tag:aj,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:U,props:{},children:[{type:a,value:"内容"}]},{type:b,tag:U,props:{},children:[{type:a,value:"キー"}]}]}]},{type:b,tag:ak,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"範囲指定して拡大表示"}]},{type:b,tag:u,props:{},children:[{type:a,value:"Shift + B"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"ビューに収まるように視点を移動"}]},{type:b,tag:u,props:{},children:[{type:a,value:"Shift + C"}]}]}]}]}]},dir:H,path:"\u002Fblog\u002F20211218",extension:I,updatedAt:J},{slug:"20211209",description:"Firebase StorageにHostingする為のメモです。",id:20211209,title:"Firebase StorageにHostingする",createdAt:"2021-12-09T00:00:00.000Z",thumbnail:cx,category:"Firebase",toc:[],body:{type:F,children:[{type:b,tag:Z,props:{id:"firebase-cli-をインストール"},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#firebase-cli-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:"Firebase CLI をインストール"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Firebase CLI をインストールする。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ npm install -g firebase-tools\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Firebase CLI にログインしてテストする。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ firebase login\n\ni  Firebase optionally collects CLI usage and error reporting information to help improve our products. Data is collected in accordance with Google's privacy policy (https:\u002F\u002Fpolicies.google.com\u002Fprivacy) and is not used to identify you.\n\n? Allow Firebase to collect CLI usage and error reporting information? (Y\u002Fn) Yes\n\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ログインを実行すると、ブラウザでログインを求められるのでログインする。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211209\u002F20211209_01.png",alt:cy},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"その後操作を付けるとログイン成功画面が表示される。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211209\u002F20211209_02.png",alt:cy},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"コンソールにもメッセージが表示される。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"✔  Success! Logged in as XXXXXXXX@gmail.com\n"}]}]}]},{type:a,value:c},{type:b,tag:Z,props:{id:cz},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cz}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"静的サイトのローカルディレクトリをFirebaseのプロジェクトに接続します。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"どの機能を利用するか聞かれるので、Hostingを選択する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ firebase init \n     ######## #### ########  ######## ########     ###     ######  ########\n     ##        ##  ##     ## ##       ##     ##  ##   ##  ##       ##\n     ######    ##  ########  ######   ########  #########  ######  ######\n     ##        ##  ##    ##  ##       ##     ## ##     ##       ## ##\n     ##       #### ##     ## ######## ########  ##     ##  ######  ########\n\nYou're about to initialize a Firebase project in this directory:\n\n  \u002FUsers\u002Fusername\u002Fproject\n\n? Which Firebase features do you want to set up for this directory? Press Space to select features, then Enter to confirm your choices. (Press \u003Cspace\u003E to select, \u003Ca\u003E to toggle all, \u003Ci\u003E to invert selection)\n ◯ Realtime Database: Configure a security rules file for Realtime Database and (optionally) provision default instance\n ◯ Firestore: Configure security rules and indexes files for Firestore\n ◯ Functions: Configure a Cloud Functions directory and its files\n❯◉ Hosting: Configure files for Firebase Hosting and (optionally) set up GitHub Action deploys\n ◯ Hosting: Set up GitHub Action deploys\n ◯ Storage: Configure a security rules file for Cloud Storage\n ◯ Emulators: Set up local emulators for Firebase products\n(Move up and down to reveal more choices)\n\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"既存のプロジェクトを利用するので"},{type:b,tag:g,props:{},children:[{type:a,value:"Use an existing project "}]},{type:a,value:"を選択。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Please select an option: (Use arrow keys)\n❯ Use an existing project \n  Create a new project \n  Add Firebase to an existing Google Cloud Platform project \n  Don't set up a default project \n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"対象のプロジェクトを選択する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Please select an option: Use an existing project\n? Select a default Firebase project for this directory: (Use arrow keys)\n❯ my-project977b8 (my-project) \n  test-b388a (test) \n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"index.htmlファイルが存在する公開するディレクトリを指定する。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n今回はVue CLIで作成したプロジェクトだったので、publicではなく、build後に作成されるdistフォルダを指定する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Your public directory is the folder (relative to your project directory) that\nwill contain Hosting assets to be uploaded with firebase deploy. If you\nhave a build process for your assets, use your build's output directory.\n\n? What do you want to use as your public directory? dist\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"シングルページの場合はyを。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Configure as a single-page app (rewrite all urls to \u002Findex.html)? (y\u002FN) \n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"GitHubのコードと自動同期してくれる設定。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Set up automatic builds and deploys with GitHub? (y\u002FN) \n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"index.htmlファイルは上書きしないのでNo。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? File dist\u002Findex.html already exists. Overwrite? (y\u002FN) \n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"その後、firebase.jsonと.firebasercファイルが作成されディレクトリ設定は完了。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"i  Skipping write of dist\u002Findex.html\n\ni  Writing configuration info to firebase.json...\ni  Writing project information to .firebaserc...\n\n✔  Firebase initialization complete!\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"#デプロイする"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下コマンドでデプロイすると、ホスティングされる。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ firebase deploy\n\n...\n\n✔  Deploy complete!\n\nProject Console: https:\u002F\u002Fconsole.firebase.google.com\u002Fproject\u002Fmy-project-977b8\u002Foverview\nHosting URL: https:\u002F\u002Fmy-project.web.app\n\n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20211209",extension:I,updatedAt:J},{slug:"20211114",description:"Firebase Storageに画像をアップロードするのに、少し迷うところがあったのでのメモです。",id:20211114,title:"Firebase Storageに画像をアップロードメモ",createdAt:"2021-11-14T00:00:00.000Z",thumbnail:cx,category:aI,toc:[{id:cA,depth:v,text:cB},{id:cC,depth:v,text:bT},{id:aJ,depth:v,text:aJ},{id:cD,depth:v,text:cE},{id:cF,depth:x,text:cG},{id:cH,depth:x,text:cI},{id:aK,depth:x,text:aK},{id:cJ,depth:x,text:cK},{id:cL,depth:x,text:cM},{id:cN,depth:x,text:cO},{id:aL,depth:x,text:aL}],body:{type:F,children:[{type:b,tag:w,props:{id:cA},children:[{type:b,tag:m,props:{href:"#firebase-storage%E3%81%AE%E3%83%90%E3%82%B1%E3%83%83%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cB}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Firebaseを表示し、サイドナビのStorageを押し、「始める」ボタンを押す。"},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211114\u002F20211114_01.png",alt:"Firebase Storageを作成"},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"セキュリティルールが表示される。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nこちらはあとから変更は可能。\n"},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211114\u002F20211114_02.png",alt:"セキュリティルールを設定"},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"利用するリージョンが表示される。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n東京リージョンは「asia-northeast1」。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nあとからの変更は不可。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211114\u002F20211114_03.png",alt:cP},children:[{type:a,value:c}]},{type:a,value:at},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211114\u002F20211114_04.png",alt:cP},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:cC},children:[{type:b,tag:m,props:{href:"#storage%E3%81%AE%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%83%AB%E3%83%BC%E3%83%AB%E3%82%92%E5%A4%89%E6%9B%B4",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bT}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"デフォルトのセキュリティルールは、認証済みユーザーのみ閲覧、編集可能です。\n"},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211114\u002F20211114_05.png",alt:bT},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"とりあえず、以下のように変更してすべてのユーザーに閲覧、編集を可能にします。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"rules_version = '2';\nservice firebase.storage {\n  match \u002Fb\u002F{bucket}\u002Fo {\n    match \u002F{allPaths=**} {\n      allow read, write: if true;\n    }\n  }\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:aJ},children:[{type:b,tag:m,props:{href:"#%E7%94%BB%E5%83%8F%E3%82%92%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aJ}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"詳しくは"},{type:b,tag:m,props:{href:"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Fstorage\u002Fweb\u002Fupload-files?hl=ja",rel:[M,N,O],target:P},children:[{type:a,value:"公式"}]},{type:a,value:cQ}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,aM]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:al}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,"function-variable",K]},children:[{type:a,value:"upload"}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:am}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:cR}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:aN},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:"=\u003E"}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,aO]},children:[{type:a,value:"\u002F\u002F Blob または File からアップロードする"}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:al}]},{type:a,value:" storageRef "},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:am}]},{type:a,value:cS},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"storage"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"ref"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:aN},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:a,value:"name"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:c},{type:b,tag:d,props:{className:[f,aO]},children:[{type:a,value:"\u002F\u002F storageにアップロード"}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:al}]},{type:a,value:" snapshot "},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:am}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:aP}]},{type:a,value:" storageRef"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"put"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:aN},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:bU},{type:b,tag:d,props:{className:[f,aO]},children:[{type:a,value:"\u002F\u002F アップロードしたファイルのパスを取得"}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:al}]},{type:a,value:" path "},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:am}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:aP}]},{type:a,value:" snapshot"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"getDownloadURL"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:bU},{type:b,tag:d,props:{className:[f,aO]},children:[{type:a,value:"\u002F\u002F データをDB(firestore)に登録"}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:al}]},{type:a,value:" docRef "},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:am}]},{type:a,value:cS},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"firestore"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"collection"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,bV]},children:[{type:a,value:"'images'"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:aP}]},{type:a,value:" docRef"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"add"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"\n    path\n  "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:c},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:cD},children:[{type:b,tag:m,props:{href:"#cors%E3%81%AB%E5%AF%BE%E5%BF%9C",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cE}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"アップロードした画像を表示した場合CORSエラーになります。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nその為、storageのCORS設定をする必要があります。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"CORSの設定は、"},{type:b,tag:g,props:{},children:[{type:a,value:"gsutil"}]},{type:a,value:"コマンドラインツールを利用します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nダウンロードは"},{type:b,tag:m,props:{href:"https:\u002F\u002Fcloud.google.com\u002Fstorage\u002Fdocs\u002Fgsutil_install?hl=ja",rel:[M,N,O],target:P},children:[{type:a,value:cT}]},{type:a,value:"から。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ダウンロードしたファイルを解凍して、解凍したファイルがあるルートディレクトリで以下のコマンドを実行します。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,G]},children:[{type:b,tag:g,props:{},children:[{type:a,value:".\u002Fgoogle-cloud-sdk\u002Finstall.sh\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"いくつか質問されます。"}]},{type:a,value:c},{type:b,tag:z,props:{id:cF},children:[{type:b,tag:m,props:{href:"#google-cloud-sdk%E3%81%AE%E6%94%B9%E5%96%84%E3%81%AB%E5%8D%94%E5%8A%9B%E3%81%97%E3%81%BE%E3%81%99%E3%81%8B%EF%BC%88y--n%EF%BC%89%EF%BC%9F",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cG}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,G]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Do you want to "},{type:b,tag:d,props:{className:[f,au,_]},children:[{type:a,value:"help"}]},{type:a,value:" improve the Google Cloud SDK "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:bW},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:bX}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"どちらでもOK。"}]},{type:a,value:c},{type:b,tag:z,props:{id:cH},children:[{type:b,tag:m,props:{href:"#%E3%83%97%E3%83%AD%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%97%E3%81%A6path%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%97%E3%80%81%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%97%E3%81%A6%E5%AE%8C%E4%BA%86%E3%81%97%E3%81%BE%E3%81%99%E3%81%8B%EF%BC%9F",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cI}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,G]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Modify profile to update your "},{type:b,tag:d,props:{className:[f,"environment","constant"]},children:[{type:a,value:"$PATH"}]},{type:a,value:" and "},{type:b,tag:d,props:{className:[f,au,_]},children:[{type:a,value:"enable"}]},{type:a,value:" shell "},{type:b,tag:d,props:{className:[f,au,_]},children:[{type:a,value:"command"}]},{type:a,value:" completion?\n\u002F\u002F 続行しますか（Y \u002F n）？\nDo you want to "},{type:b,tag:d,props:{className:[f,au,_]},children:[{type:a,value:"continue"}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:aQ},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:bX}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"YESでOK。"}]},{type:a,value:c},{type:b,tag:z,props:{id:aK},children:[{type:b,tag:m,props:{href:"#%E6%9B%B4%E6%96%B0%E3%81%99%E3%82%8Brc%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%B8%E3%81%AE%E3%83%91%E3%82%B9%E3%82%92%E5%85%A5%E5%8A%9B%E3%81%99%E3%82%8B%E3%81%8B%E3%80%81%E7%A9%BA%E7%99%BD%E3%81%AE%E3%81%BE%E3%81%BE%E3%81%AB%E3%81%97%E3%81%A6%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%BE%E3%81%99",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aK}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,G]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Enter a path to an rc "},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:aN}]},{type:a,value:" to update, or leave blank to use "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:av}]},{type:a,value:cU},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:aw}]},{type:a,value:":\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"空白のままEnter。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下が"},{type:b,tag:g,props:{},children:[{type:a,value:cU}]},{type:a,value:"に追加される。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"# The next line updates PATH for the Google Cloud SDK.\nif [ -f '\u002FUsers\u002Fhoge\u002Fgoogle-cloud-sdk\u002Fpath.bash.inc' ]; then . '\u002FUsers\u002Fhoge\u002Fgoogle-cloud-sdk\u002Fpath.bash.inc'; fi\n\n# The next line enables shell command completion for gcloud.\nif [ -f '\u002FUsers\u002Fhoge\u002Fgoogle-cloud-sdk\u002Fcompletion.bash.inc' ]; then . '\u002FUsers\u002Fhoge\u002Fgoogle-cloud-sdk\u002Fcompletion.bash.inc'; fi\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:cJ},children:[{type:b,tag:m,props:{href:"#cloud-sdk%E3%81%AF%E3%80%81python-37%E3%81%A8%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%8C%E6%9C%80%E9%81%A9%E3%81%A7%E3%81%99",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cK}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,G]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Cloud SDK works best with Python "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:cV}]},{type:a,value:" and certain modules.\n\nDownload and run Python "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:cV}]},{type:a,value:" installer? "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:aQ},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:bX}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:cL},children:[{type:b,tag:m,props:{href:"#%E3%82%BF%E3%83%BC%E3%83%9F%E3%83%8A%E3%83%AB-%E3%82%A6%E3%82%A3%E3%83%B3%E3%83%89%E3%82%A6%E3%82%92%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E7%9B%B4%E3%81%99",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cM}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"同じターミナルウィンドウだと変更が反映されないので、新しいウィンドウか、もしくはターミナルを立ち上げ直します。"}]},{type:a,value:c},{type:b,tag:z,props:{id:cN},children:[{type:b,tag:m,props:{href:"#sdk%E3%82%92%E5%88%9D%E6%9C%9F%E5%8C%96",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cO}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"SDK を初期化します。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,G]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"gcloud init \n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:aL},children:[{type:b,tag:m,props:{href:"#%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aL}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下の内容で、cors.jsonという名前のファイルを作成します。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"[\n  {\n    \"origin\": [\"*\"],\n    \"method\": [\"GET\"],\n    \"maxAgeSeconds\": 3600\n  }\n]\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"作成したファイルをデプロイします。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,G]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"gsutil cors "},{type:b,tag:d,props:{className:[f,au,_]},children:[{type:a,value:"set"}]},{type:a,value:" cors.json gs:\u002F\u002F"},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:aR}]},{type:a,value:cW},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:aS}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211114\u002F20211114_06.png",alt:cW},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"これでCORSエラーは回避できます。"}]}]},dir:H,path:"\u002Fblog\u002F20211114",extension:I,updatedAt:J},{slug:"20211221",description:"npm_moudulesの脆弱性エラーの解消",id:202112,title:"XXXXXX",thumbnail:W,createdAt:"2021-11-12T00:00:00.000Z",category:aI,toc:[{id:aT,depth:v,text:aT}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"シェイプキーを利用すると、オブジェクト単体で"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ npm install -g npm-check-updates\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ncu\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ncu -u\n"}]}]}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"# upgrade only mocha\n$ ncu mocha\n$ ncu -f mocha\n$ ncu --filter mocha\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Don't use ESLint 7 with Vue CLI 4."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"You can use ESLint 7 with Vue CLI 5, or ESLint 6 with Vue CLI 4."}]},{type:a,value:c},{type:b,tag:w,props:{id:aT},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE%E4%BE%9D%E5%AD%98%E9%96%A2%E4%BF%82%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aT}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"npm ls パッケージ名\n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20211221",extension:I,updatedAt:J},{slug:"20201221",description:"composer require実行時にAllowed memory size of 1610612736 bytes exhausted エラーが発生したときのメモです。",id:cX,title:"composer require実行時にAllowed memory size of ...のエラーが発生",createdAt:cY,thumbnail:W,category:bY,toc:[{id:aU,depth:v,text:aU}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"composer require実行時に以下のエラーが発生。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Fatal error: Allowed memory size of 1610612736 bytes exhausted (tried to allocate 4096 bytes)\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"memory_limitの設定値を確認。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:" $ php -r \"echo ini_get('memory_limit').PHP_EOL;\"\n128M\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"php.iniの場所を確認する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ php -i | grep php.ini\nConfiguration File (php.ini) Path =\u003E \u002Fusr\u002Flocal\u002Fetc\u002Fphp\u002F7.4\nLoaded Configuration File =\u003E \u002Fusr\u002Flocal\u002Fetc\u002Fphp\u002F7.4\u002Fphp.ini\n\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"php.iniを編集。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ vi \u002Fusr\u002Flocal\u002Fetc\u002Fphp\u002F7.4\u002Fphp.ini\n; memory_limit = 128M \nmemory_limit = -1 ←こちらに変更\n\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:aU},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E5%8F%96%E3%82%8A%E3%81%82%E3%81%88%E3%81%9A%E3%81%AE%E5%AF%BE%E5%87%A6%E3%81%AE%E5%A0%B4%E5%90%88",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aU}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"とりあえずで良い場合の以下のコマンドできるようでした。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ COMPOSER_MEMORY_LIMIT=-1 composer require xxxx\u002Fxxxx\n\n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20201221",extension:I,updatedAt:J},{slug:"20210121",description:"AWSのEC2のインスタンスメタデータについてのメモです。",id:cX,title:"AWSのEC2のインスタンスメタデータについて",createdAt:cY,thumbnail:W,category:aV,toc:[{id:aW,depth:v,text:aW},{id:aX,depth:v,text:aX}],body:{type:F,children:[{type:b,tag:Z,props:{id:cZ},children:[{type:b,tag:m,props:{href:"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%83%A1%E3%82%BF%E3%83%87%E3%83%BC%E3%82%BF%E3%81%A8%E3%81%AF",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cZ}]},{type:a,value:c},{type:b,tag:an,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"インスタンスメタデータは、インスタンスに関するデータで、実行中のインスタンスを設定または管理するために使用します。\n"},{type:b,tag:m,props:{href:c_,rel:[M,N,O],target:P},children:[{type:a,value:c_}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:Z,props:{id:c$},children:[{type:b,tag:m,props:{href:"#%E5%8F%96%E5%BE%97%E6%96%B9%E6%B3%95",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:c$}]},{type:a,value:c},{type:b,tag:w,props:{id:aW},children:[{type:b,tag:m,props:{href:"#curl%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7%E5%8F%96%E5%BE%97",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aW}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"[ec2-user@ip-XX-X-X-115 XX~]$ curl http:\u002F\u002F169.254.169.254\u002Flatest\u002Fmeta-data\nami-id\nami-launch-index\nami-manifest-path\nblock-device-mapping\u002F\nevents\u002F\nhibernation\u002F\nhostname\nidentity-credentials\u002F\ninstance-action\ninstance-id\ninstance-life-cycle\ninstance-type\nlocal-hostname\nlocal-ipv4\nmac\nmetrics\u002F\nnetwork\u002F\nplacement\u002F\nprofile\npublic-hostname\npublic-ipv4\npublic-keys\u002F\nreservation-id\nsecurity-groups\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:da}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"[ec2-user@ip-XX-X-X-115 XX~]$ curl http:\u002F\u002F169.254.169.254\u002Flatest\u002Fmeta-data\u002Fami-id\nami-0ce107ae7af2e92b5\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:aX},children:[{type:b,tag:m,props:{href:"#ec2-metadata%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7%E5%8F%96%E5%BE%97",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aX}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"[ec2-user@ip-XX-X-X-115 XX~]$ ec2-metadata --help\nec2-metadata v0.1.2\nUse to retrieve EC2 instance metadata from within a running EC2 instance.\ne.g. to retrieve instance id: ec2-metadata -i\n         to retrieve ami id: ec2-metadata -a\n         to get help: ec2-metadata --help\nFor more information on Amazon EC2 instance meta-data, refer to the documentation at\nhttp:\u002F\u002Fdocs.amazonwebservices.com\u002FAWSEC2\u002F2008-05-05\u002FDeveloperGuide\u002FAESDG-chapter-instancedata.html\n\nUsage: ec2-metadata \u003Coption\u003E\nOptions:\n--all                     Show all metadata information for this host (also default).\n-a\u002F--ami-id               The AMI ID used to launch this instance\n-l\u002F--ami-launch-index     The index of this instance in the reservation (per AMI).\n-m\u002F--ami-manifest-path    The manifest path of the AMI with which the instance was launched.\n-n\u002F--ancestor-ami-ids     The AMI IDs of any instances that were rebundled to create this AMI.\n-b\u002F--block-device-mapping Defines native device names to use when exposing virtual devices.\n-i\u002F--instance-id          The ID of this instance\n-t\u002F--instance-type        The type of instance to launch. For more information, see Instance Types.\n-h\u002F--local-hostname       The local hostname of the instance.\n-o\u002F--local-ipv4           Public IP address if launched with direct addressing; private IP address if launched with public addressing.\n-k\u002F--kernel-id            The ID of the kernel launched with this instance, if applicable.\n-z\u002F--availability-zone    The availability zone in which the instance launched. Same as placement\n-c\u002F--product-codes        Product codes associated with this instance.\n-p\u002F--public-hostname      The public hostname of the instance.\n-v\u002F--public-ipv4          NATted public IP Address\n-u\u002F--public-keys          Public keys. Only available if supplied at instance launch time\n-r\u002F--ramdisk-id           The ID of the RAM disk launched with this instance, if applicable.\n-e\u002F--reservation-id       ID of the reservation.\n-s\u002F--security-groups      Names of the security groups the instance is launched in. Only available if supplied at instance launch time\n-d\u002F--user-data            User-supplied data.Only available if supplied at instance launch time.\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:da}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"[ec2-user@ip-XX-X-X-115 XX~]$ ec2-metadata -a\nami-id: ami-0ce107ae7af2e92b5\n"}]}]}]},{type:a,value:c},{type:b,tag:Z,props:{id:db},children:[{type:b,tag:m,props:{href:"#curl%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A8ec2-metadata%E3%81%AE%E4%BD%BF%E3%81%84%E5%88%86%E3%81%91",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:db}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"curlコマンドは値だけ取得できるのでプログラムで利用するのに向いている。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nec2-metadataコマンドはデータのkeyも取得されるので、プログラムで利用する場合は不便。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nただ、"},{type:b,tag:g,props:{},children:[{type:a,value:"ec2-metadata --all"}]},{type:a,value:"なので、値を確認するのに便利。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"なので、"}]},{type:a,value:c},{type:b,tag:ab,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"curlコマンド　　　　   ・・・プログラムで利用"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"ec2-metadataコマンド・・・EC2の情報を確認するのに使用"}]},{type:a,value:c}]}]},dir:H,path:"\u002Fblog\u002F20210121",extension:I,updatedAt:J},{slug:"20210118",description:"ファイルのパーミッションについてのメモ。",id:20210118,title:dc,createdAt:dd,thumbnail:W,category:aY,toc:[{id:aZ,depth:v,text:aZ}],body:{type:F,children:[{type:b,tag:Z,props:{id:de},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%83%91%E3%83%BC%E3%83%9F%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:de}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ファイルの実行権限のこと。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nどの種類のオーナーが、このファイルに対して何ができるのか。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下のコマンドで確認することができる。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"ls -la\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"パーミッションは以下のように9桁で表示される。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"-rwxrwxrwx 1 root root\n"}]}]}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210118\u002F01.png",alt:dc},children:[{type:a,value:c}]},{type:a,value:df},{type:b,tag:ai,props:{},children:[{type:b,tag:aj,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:U,props:{},children:[{type:a,value:dg}]},{type:b,tag:U,props:{},children:[{type:a,value:"説明"}]}]}]},{type:b,tag:ak,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"r"}]},{type:b,tag:u,props:{},children:[{type:a,value:"Read 読み込み権限"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"w"}]},{type:b,tag:u,props:{},children:[{type:a,value:"Write 書き込み権限"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"x"}]},{type:b,tag:u,props:{},children:[{type:a,value:"Execute 実行権限"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"-"}]},{type:b,tag:u,props:{},children:[{type:a,value:"権限なし"}]}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:aZ},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%83%91%E3%83%BC%E3%83%9F%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E5%A4%89%E6%9B%B4",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aZ}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"パーミッション変更時は、「読み込み」「書き込み」「実行可能」を3ビットの2進数で表し、8進数へ変換したものを利用します。"}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:ai,props:{},children:[{type:b,tag:aj,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:U,props:{},children:[{type:a,value:"8進数"}]},{type:b,tag:U,props:{},children:[{type:a,value:dg}]}]}]},{type:b,tag:ak,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:bZ}]},{type:b,tag:u,props:{},children:[{type:a,value:"--x"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:ax}]},{type:b,tag:u,props:{},children:[{type:a,value:"-w-"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:ay}]},{type:b,tag:u,props:{},children:[{type:a,value:"-wx"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:dh}]},{type:b,tag:u,props:{},children:[{type:a,value:"r--"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:di}]},{type:b,tag:u,props:{},children:[{type:a,value:"r-x"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"6"}]},{type:b,tag:u,props:{},children:[{type:a,value:"rw-"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"7"}]},{type:b,tag:u,props:{},children:[{type:a,value:"rwx"}]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"フル権限である"},{type:b,tag:g,props:{},children:[{type:a,value:"-rwxrwxrwx"}]},{type:a,value:"にする場合は、以下を実行する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"chmod 777 ファイル名\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"所有者が読み取りのみできる"},{type:b,tag:g,props:{},children:[{type:a,value:"-r-------"}]},{type:a,value:"のようにするには、以下を実行する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"chmod 400 ファイル名\n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20210118",extension:I,updatedAt:J},{slug:"20211102",description:"SEO改善の為のメモです。(作成中)",id:20211018,title:"SEO改善メモ",createdAt:dd,thumbnail:W,category:aY,toc:[{id:dj,depth:v,text:dk},{id:a_,depth:x,text:a_},{id:a$,depth:x,text:a$},{id:ba,depth:x,text:ba}],body:{type:F,children:[{type:b,tag:w,props:{id:dj},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#seo%E5%95%8F%E9%A1%8C",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dk}]},{type:a,value:c},{type:b,tag:z,props:{id:a_},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E6%96%87%E5%AD%97%E6%95%B0%E3%81%8C%E5%B0%91%E3%81%AA%E3%81%84",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:a_}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"文字数が少なすぎると、Googleはコンテンツを適切に把握できません。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nGoogleがページ内容を把握できない場合、狙った検索キーワードで上位表示されることはありません。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n文字数を増やすことで、Googleクローラーとエンドユーザーにより詳しくページ内容を伝えられます。数百文字程度のコンテンツでは、内容が乏しいと判断され、上位表示される可能性はほとんどありません。"}]},{type:a,value:c},{type:b,tag:ac,props:{id:bb},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bb}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"内容を充実させながら文字数を増やすことで、上位表示されやすくなります。一般的に、Google検索結果の1ページ目に表示されるページの文字数は2200文字程度です。"}]},{type:a,value:c},{type:b,tag:z,props:{id:a$},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E9%95%B7%E3%81%84%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E6%99%82%E9%96%93",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:a$}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"サイト表示時間とは、ブラウザにサイト全体、全HTMLコードが表示されるまでに要する時間です。画像、CSS、JavaなどHTMLコードで無いものは含みません。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nサイト表示時間の改善は、コンテンツを上位表示させる為に重要な項目です。速ければ速いほど高く評価されます。"}]},{type:a,value:c},{type:b,tag:ac,props:{id:"解決方法-1"},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95-1",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bb}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"サイトのHTMLコードを確認し、必要があれば整理してください。不要なプラグイン、要素、機能を削除すると表示速度が改善する可能性があります。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nまた、画像を圧縮し、キャッシュを活用してください。サーバーが原因で表示速度が遅い場合は、ホスティング会社や契約プランのアップグレードを検討してください。"}]},{type:a,value:c},{type:b,tag:z,props:{id:ba},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%83%A1%E3%82%BF%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E9%87%8D%E8%A4%87",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:ba}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"メタディスクリプションは、検索結果でタイトルの下に表示される短い広告文です。ページの内容を要約して伝える役割をします。ユーザーも検索エンジンクローラーも、ページ内容を把握する為に参照します。\nユーザーが求めている情報に確実にアクセスできるように、各ページに固有のメタディスクリプションを設定する必要があります。メタディスクリプションが重複していると、検索エンジンクローラーはページ間の違いや評価すべき内容を適切に把握できない為、検索順位に悪影響を及ぼします。"}]},{type:a,value:c},{type:b,tag:ac,props:{id:"解決方法-2"},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95-2",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bb}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"全ページに、コンテンツに関連していて、かつ他のページと重複しない固有のメタディスクリプションを作成してください。"}]},{type:a,value:c},{type:b,tag:ac,props:{id:dl},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%83%A1%E3%82%BF%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dl}]}]},dir:H,path:"\u002Fblog\u002F20211102",extension:I,updatedAt:J},{slug:"20211014",description:"初心者のVue3とPIXI.JSの導入時のメモです。",id:20211014,title:"Vue3 + PIXI.JSメモ",createdAt:"2021-10-14T00:00:00.000Z",thumbnail:dm,category:aI,toc:[{id:dn,depth:v,text:do0},{id:bc,depth:v,text:bc},{id:bd,depth:v,text:bd}],body:{type:F,children:[{type:b,tag:w,props:{id:dn},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#pixi%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E7%94%9F%E6%88%90",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:do0}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ステージを用意する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u003Ctemplate\u003E\n  \u003Cdiv class=\"stage\"\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Ftemplate\u003E\n\n\u003Cscript lang=\"ts\"\u003E\nimport {Options, Vue} from 'vue-class-component';\n\u002F\u002F PixiJSを読み込み\nimport * as PIXI from 'pixi.js';\n\nexport default class MyComponent extends Vue {\n  app!: PIXI.Application\n\n  mounted() {\n    \u002F\u002F ステージを作成\n    this.app = new PIXI.Application({\n      backgroundColor: 0xffffff,\n      antialias: true, \u002F\u002F アンチエイリアスを有効にする\n      resolution: window.devicePixelRatio || 1, \u002F\u002F 解像度に合わせた拡大率を指定する\n      autoDensity : true, \u002F\u002F CSSで見た目のサイズの戻してくれる,\n      resizeTo: window \u002F\u002F windowのリサイズに合わせてstage(canvas)をリサイズする\n    });\n    \u002F\u002F rootのdom内(\u003Cdiv class=\"stage\" \u002F\u003E)にappendする\n    this.$el.appendChild(this.app.view);\n  }\n}\n\u003C\u002Fscript\u003E\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:bc},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E9%85%8D%E7%BD%AE",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bc}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下のような感じでステージに、オブジェクトを追加することができます。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"    const obj = new PIXI.Graphics();\n    obj.beginFill(0xff0000);\n    obj.drawRect(0, 0, 200, 100);\n    this.app.stage.addChild(obj);\n"}]}]}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211014\u002F20211014_01.png",alt:"ステージにオブジェクトを追加"},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:bd},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%82%B0%E3%83%A9%E3%83%87%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A7%E5%A1%97%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bd}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"グラデーション用のメソッドなどは無いようで、グラデーションで描画したcanvasをSpriteに入れてグラデーションを描くようです。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"  mounted() {\n    this.app = new PIXI.Application({\n      backgroundColor: 0xffffff,\n      antialias: true,\n      resolution: window.devicePixelRatio || 1, \u002F\u002F 解像度に合わせた拡大率を指定する\n      autoDensity: true, \u002F\u002F CSSで見た目のサイズの戻してくれる,\n      resizeTo: window\n    });\n    \n    this.$el.appendChild(this.app.view);\n    \u002F\u002F グラデーションを描画\n    const gradient = this.createGradient(window.innerWidth, window.innerHeight, '#acb6e5', '#86fde8');\n    this.app.stage.addChild(gradient);\n\n    this.app.renderer.resize(window.innerWidth, window.innerHeight);\n  }\n\n   \u002F\u002F グラデーションのSpriteを生成\n   createGradient(width: number, height: number, colorFrom: string, colorTo: string): PIXI.Sprite {\n    const canvas = document.createElement('canvas')\n    const ctx = canvas.getContext('2d')\n    if (ctx) {\n      const gradient = ctx.createLinearGradient(0, 0, width, 0)\n\n      canvas.setAttribute('width', String(width))\n      canvas.setAttribute('height', String(height))\n\n      gradient.addColorStop(0, colorFrom)\n      gradient.addColorStop(1, colorTo)\n\n      ctx.fillStyle = gradient\n      ctx.fillRect(0, 0, width, height)\n    }\n\n    return PIXI.Sprite.from(canvas)\n  }\n"}]}]}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20211014\u002F20211014_02.png",alt:"グラデーションを描画"},children:[{type:a,value:c}]}]},dir:H,path:"\u002Fblog\u002F20211014",extension:I,updatedAt:J},{slug:"20211012",description:"Vue-cliでVue3のプロジェクトを作成する際のメモです。",id:20211012,title:"Vue-cliでVue3のプロジェクトを作成する",createdAt:"2021-10-12T00:00:00.000Z",thumbnail:dm,category:aI,toc:[{id:dp,depth:x,text:dq},{id:be,depth:x,text:be},{id:bf,depth:x,text:bf},{id:dr,depth:x,text:ds},{id:bg,depth:x,text:bg},{id:dt,depth:x,text:du},{id:dv,depth:x,text:dw},{id:dx,depth:x,text:dy},{id:dz,depth:x,text:dA},{id:dB,depth:x,text:dC},{id:dD,depth:x,text:dE},{id:dF,depth:x,text:dG},{id:bh,depth:x,text:bh}],body:{type:F,children:[{type:b,tag:z,props:{id:dp},children:[{type:b,tag:m,props:{href:"#vue%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dq}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:" $ vue create "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:"アプリケーション名"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:be},children:[{type:b,tag:m,props:{href:"#preset%E3%81%AE%E9%81%B8%E6%8A%9E",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:be}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"presetの選択画面が表示されるので、Manually select features(手動設定)を選択する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Vue CLI v4.5.13\n? Please pick a preset:\n  Default "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:av}]},{type:a,value:b_},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:ax}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:aw}]},{type:a,value:dH},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"\n  Default "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:b_},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:ay}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:av}]},{type:a,value:b_},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:ay}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:aw}]},{type:a,value:dH},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"\n❯ Manually "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:dI}]},{type:a,value:" features\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:bf},children:[{type:b,tag:m,props:{href:"#%E6%A9%9F%E8%83%BD%E3%82%92%E9%81%B8%E6%8A%9E",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bf}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Manually select featuresを選択すると以下の画面になるので、必要な機能を選択する"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Please pick a preset: Manually "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:dI}]},{type:a,value:" features\n? Check the features needed "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:ao}]},{type:a,value:" your project:\n ◉ Choose Vue version\n ◉ Babel\n❯◉ TypeScript\n ◯ Progressive Web App "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"PWA"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:" Support\n ◉ Router\n ◉ Vuex\n ◉ CSS Pre-processors\n ◉ Linter \u002F Formatter\n ◯ Unit Testing\n ◯ E2E Testing\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:dr},children:[{type:b,tag:m,props:{href:"#vue%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%82%92%E9%81%B8%E6%8A%9E",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:ds}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Vueのバージョンを選択する。\n3系を利用したいので、3.x(Preview)を選択。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Choose a version of Vue.js that you want to start the project with\n  "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:ax}]},{type:a,value:".x\n❯ "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:ay}]},{type:a,value:".x\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:bg},children:[{type:b,tag:m,props:{href:"#%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AE%E5%88%A9%E7%94%A8",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bg}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"class-style component syntaxの利用の選択。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Use class-style component syntax? "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:bW},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"class-style componentについては"},{type:b,tag:m,props:{href:"https:\u002F\u002Fjp.vuejs.org\u002Fv2\u002Fguide\u002Ftypescript.html#%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB-Vue-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88"},children:[{type:a,value:"公式サイト"}]},{type:a,value:cQ}]},{type:a,value:c},{type:b,tag:z,props:{id:dt},children:[{type:b,tag:m,props:{href:"#babel-alongside-typescript%E3%81%AE%E5%88%A9%E7%94%A8",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:du}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"TypeScriptをJavaScriptにトランスパイルした後、さらにそれをPolyfillで変換するかの選択。\nIEなど、モダンブラウザ以外の対応も必要な場合はYES。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Use Babel alongside TypeScript "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"required "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:ao}]},{type:a,value:" modern mode, auto-detected polyfills, transpiling JSX"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"? "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:aQ},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:dv},children:[{type:b,tag:m,props:{href:"#vue-router%E3%81%AE%E3%83%92%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A2%E3%83%BC%E3%83%89%E3%81%AE%E5%88%A9%E7%94%A8",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dw}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Vue Routerのヒストリーモードの利用の選択。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nNoの場合はVue Routerのデフォルトのhashモード(例 : "},{type:b,tag:m,props:{href:"http:\u002F\u002Fsample.com\u002F#\u002Fuser)%E3%80%82",rel:[M,N,O],target:P},children:[{type:a,value:"http:\u002F\u002Fsample.com\u002F#\u002Fuser)。"}]},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nYesの場合は、historyモード(例 : "},{type:b,tag:m,props:{href:"http:\u002F\u002Fsample.com\u002Fuser)%E3%80%82",rel:[M,N,O],target:P},children:[{type:a,value:"http:\u002F\u002Fsample.com\u002Fuser)。"}]}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Use "},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"history"}]},{type:a,value:" mode "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:ao}]},{type:a,value:" router? "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"Requires proper server setup "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:ao}]},{type:a,value:" index fallback "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:"in"}]},{type:a,value:" production"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:aQ},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:dx},children:[{type:b,tag:m,props:{href:"#css%E3%83%97%E3%83%AA%E3%83%97%E3%83%AD%E3%82%BB%E3%83%83%E3%82%B5%E3%81%AE%E9%81%B8%E6%8A%9E",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dy}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"「Sass\u002FSCSS」「LESS」「Stylus」の３つから選択可能。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Sassを利用する場合は、dart-sassがおすすめ。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Pick a CSS pre-processor "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"PostCSS, Autoprefixer and CSS Modules are supported by default"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:": "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:dJ},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"\n❯ Sass\u002FSCSS "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"with dart-sass"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"\n  Sass\u002FSCSS "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"with node-sass"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"\n  Less\n  Stylus\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:dz},children:[{type:b,tag:m,props:{href:"#linterformatter%E3%81%AE%E8%A8%AD%E5%AE%9A",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dA}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"「TSLint」「ESLint(4種類)」から選択可能。\nそれぞれのLinter\u002FFormatterの説明はしませんので、Google先生に聞いてみてください。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"❯ ESLint with error prevention only\n  ESLint + Airbnb config\n  ESLint + Standard config\n  ESLint + Prettier\n  TSLint "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"deprecated"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:dB},children:[{type:b,tag:m,props:{href:"#%E8%BF%BD%E5%8A%A0%E3%81%AElint%E6%A9%9F%E8%83%BD%E3%81%AE%E9%81%B8%E6%8A%9E",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dC}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Lint on save・・・保存時のLint実行　　\nLint and fix on commit・・・コミット時のLint実行"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"両方あっても良い。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Pick additional lint features: "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"Press "},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:aR}]},{type:a,value:"space"},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:aS}]},{type:a,value:" to select, "},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:aR}]},{type:a,value:m},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:aS}]},{type:a,value:" to toggle all, "},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:aR}]},{type:a,value:"i"},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:aS}]},{type:a,value:" to invert selection"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"\n❯◉ Lint on save\n ◉ Lint and fix on commit\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:dD},children:[{type:b,tag:m,props:{href:"#unit-test%E3%81%AE%E3%83%84%E3%83%BC%E3%83%AB%E9%81%B8%E6%8A%9E",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dE}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Pick a unit testing solution:\n  Mocha + Chai\n❯ Jest\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:dF},children:[{type:b,tag:m,props:{href:"#babel%E3%80%81postcss%E3%80%81eslint%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dG}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Where "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:"do"}]},{type:a,value:" you prefer placing config "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:ao}]},{type:a,value:" Babel, ESLint, etc.? "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:dJ},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"\n❯ In dedicated config files\n  In package.json\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:bh},children:[{type:b,tag:m,props:{href:"#%E8%A8%AD%E5%AE%9A%E3%81%AE%E4%BF%9D%E5%AD%98",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bh}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"? Save this as a preset "},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:ao}]},{type:a,value:" future projects? "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:bW},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:c}]}]}]}]},dir:H,path:"\u002Fblog\u002F20211012",extension:I,updatedAt:J},{slug:"20210111",description:dK,id:20210111,title:"Laravel Passportをやってみるメモ",createdAt:"2021-10-11T00:00:00.000Z",thumbnail:W,category:bY,toc:[{id:bi,depth:v,text:bi},{id:dL,depth:v,text:dM},{id:dN,depth:v,text:dO}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:dK}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ライブラリインストール。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ composer require laravel\u002Fpassport\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"マイグレーションを実行。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ php artisan migrate\nMigration table created successfully.\nMigrating: 2014_10_12_000000_create_users_table\nMigrated:  2014_10_12_000000_create_users_table (83.67ms)\nMigrating: 2014_10_12_100000_create_password_resets_table\nMigrated:  2014_10_12_100000_create_password_resets_table (55.75ms)\nMigrating: 2016_06_01_000001_create_oauth_auth_codes_table\nMigrated:  2016_06_01_000001_create_oauth_auth_codes_table (68.58ms)\nMigrating: 2016_06_01_000002_create_oauth_access_tokens_table\nMigrated:  2016_06_01_000002_create_oauth_access_tokens_table (103.69ms)\nMigrating: 2016_06_01_000003_create_oauth_refresh_tokens_table\nMigrated:  2016_06_01_000003_create_oauth_refresh_tokens_table (119.95ms)\nMigrating: 2016_06_01_000004_create_oauth_clients_table\nMigrated:  2016_06_01_000004_create_oauth_clients_table (73.17ms)\nMigrating: 2016_06_01_000005_create_oauth_personal_access_clients_table\nMigrated:  2016_06_01_000005_create_oauth_personal_access_clients_table (37.69ms)\nMigrating: 2019_08_19_000000_create_failed_jobs_table\nMigrated:  2019_08_19_000000_create_failed_jobs_table (58.61ms)\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"安全なアクセストークンを生成するのに必要な暗号キーを作成します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nさらにアクセストークンを生成するために使用する、「パーソナルアクセス」クライアントと「パスワードグラント」クライアントも作成します。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Clientはユーザではなくアクセストークンを利用するアプリケーションのこと。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"生成された情報は"},{type:b,tag:g,props:{},children:[{type:a,value:"oauth_clients"}]},{type:a,value:"テーブルに保存されます。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ php artisan passport:install\nPersonal access client created successfully.\nClient ID: 1\nClient secret: Pn1hA2F8ngjZwPxcmYb3aZ9CqqRRM9zWJNwPtNqZ\nPassword grant client created successfully.\nClient ID: 2\nClient secret: hDdQbSAX484FRtCQpHafotaMEfBv0ryuWCn7kvUN\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:af,props:{},children:[{type:a,value:"Personal access client"}]},{type:a,value:"と"},{type:b,tag:af,props:{},children:[{type:a,value:dP}]},{type:a,value:"が作成されます。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Laravel標準のusersテーブルをPassport認証に使用する。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"◎ app\u002FModels\u002FUser.php"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u003C?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Contracts\\Auth\\MustVerifyEmail;\nuse Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\nuse Illuminate\\Notifications\\Notifiable;\nuse Laravel\\Passport\\HasApiTokens;　\u002F\u002F 追加\n\nclass User extends Authenticatable\n{\n    use HasFactory;\n    use Notifiable;\n    use HasApiTokens; \u002F\u002F 追加\n\n    ...\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"◎ app\u002FProviders\u002FAppServiceProvider.php"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u003C?php\n\nnamespace App\\Providers;\n\nuse Illuminate\\Foundation\\Support\\Providers\\AuthServiceProvider as ServiceProvider;\nuse Illuminate\\Support\\Facades\\Gate;\nuse Laravel\\Passport\\Passport;\n\nclass AuthServiceProvider extends ServiceProvider\n{\n    \u002F**\n     * アプリケーションのポリシーのマップ\n     *\n     * @var array\n     *\u002F\n    protected $policies = [\n        'App\\Models\\Model' =\u003E 'App\\Policies\\ModelPolicy',\n    ];\n\n    \u002F**\n     * 全認証／認可サービスの登録\n     *\n     * @return void\n     *\u002F\n    public function boot()\n    {\n        $this-\u003EregisterPolicies();\n        Passport::routes();\n    }\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Passport::routes()"}]},{type:a,value:"を追加したあと、``php artisan route:list`をするとルーティングが追加されている。\n[f:id:nogson2:20201130225222p:plain]"}]},{type:a,value:c},{type:b,tag:w,props:{id:bi},children:[{type:b,tag:m,props:{href:"#%E3%83%86%E3%82%B9%E3%83%88%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bi}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Seederを作成。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"◎ database\u002Fseeders\u002FUsersTabaleSeeder.php"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u003C?php\n\nnamespace Database\\Seeders;\n\nuse Illuminate\\Database\\Seeder;\nuse Illuminate\\Support\\Facades\\DB;\nuse Illuminate\\Support\\Facades\\Hash;\n\nclass UsersTabaleSeeder extends Seeder\n{\n    \u002F**\n     * Run the database seeds.\n     *\n     * @return void\n     *\u002F\n    public function run()\n    {\n        $param = [\n            'name' =\u003E 'taro',\n            'email' =\u003E 'taro@example.com',\n            'password' =\u003E Hash::make('test')\n        ];\n\n        DB::table('users') -\u003E insert($param);\n    }\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"database\u002Fseeders\u002FDatabaseSeeder.php"}]},{type:a,value:"にも以下を追加。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"public function run()\n{\n    $this-\u003Ecall(UsersTabaleSeeder::class);\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"php artisan db:seed"}]},{type:a,value:bj}]},{type:a,value:c},{type:b,tag:w,props:{id:dL},children:[{type:b,tag:m,props:{href:"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8Bpersonal-access-token",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dM}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"とりあえず、いきなりtokenが発行される"},{type:b,tag:g,props:{},children:[{type:a,value:"Personal Access Token"}]},{type:a,value:"で試してみます。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"routers\u002Fapi"}]},{type:a,value:bk}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Route::get('\u002Ftest', function(){\n    $user = App\\Models\\User::find(1);\n    $token = $user-\u003EcreateToken('')-\u003EaccessToken;\n    return response()-\u003Ejson(['token' =\u003E $token]);\n});\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:m,props:{href:dQ,rel:[M,N,O],target:P},children:[{type:a,value:dQ}]},{type:a,value:bj}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Bearer tokenが発行される。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"{\n  \"token\": \"eyJ0eXAiOiJKV1QiL...\"\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:dR},{type:b,tag:g,props:{},children:[{type:a,value:dS}]},{type:a,value:dT},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:m,props:{href:bl,rel:[M,N,O],target:P},children:[{type:a,value:bl}]},{type:a,value:bj}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:dU}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:dV}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:dN},children:[{type:b,tag:m,props:{href:"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8Bpassword-grant-token",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dO}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"パスワードを送信してTokenが発行される、よくある認証方式です。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"php artisan passport:install"}]},{type:a,value:"で作成した"},{type:b,tag:g,props:{},children:[{type:a,value:dP}]},{type:a,value:"を利用します。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"認可サーバ"},{type:b,tag:g,props:{},children:[{type:a,value:"http:\u002F\u002Flocalhot\u002Foauth\u002Ftoken"}]},{type:a,value:"(Laravel)に　POSTリクエストを送信します。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"リクエストパラメータはこちら。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"{\n    \"grant_type\": \"password\",\n    \"client_id\": \"2\",\n    \"client_secret\": \"hDdQbSAX484FRtCQpHafotaMEfBv0ryuWCn7kvUN\",\n    \"username\": \"taro@example.com\",\n    \"password\": \"test\",\n    \"scope\": \"\"\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"アクセストークンが返却される。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"{\n  \"token_type\": \"Bearer\",\n  \"expires_in\": 31536000,\n  \"access_token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9...\"\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:dR},{type:b,tag:g,props:{},children:[{type:a,value:dS}]},{type:a,value:dT},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:m,props:{href:bl,rel:[M,N,O],target:P},children:[{type:a,value:bl}]},{type:a,value:bj}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:dU}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:dV}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"続く ..."}]}]},dir:H,path:"\u002Fblog\u002F20210111",extension:I,updatedAt:J},{slug:"20211005",description:"PHPのUnitの個人的なメモです。",id:20211005,title:"PHPのUnitテストのメモ",createdAt:"2021-10-05T00:00:00.000Z",thumbnail:"blog\u002Fimages\u002Fphp_thumb.png",category:bY,toc:[{id:bm,depth:v,text:bm},{id:bn,depth:v,text:bn},{id:bo,depth:v,text:bo},{id:bp,depth:v,text:bp}],body:{type:F,children:[{type:b,tag:w,props:{id:bm},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E8%A1%A8%E7%A4%BA",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bm}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ vendor\u002Fbin\u002Fphpunit --list-tests\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:bn},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bn}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ vendor\u002Fbin\u002Fphpunit \n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:bo},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bo}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ vendor\u002Fbin\u002Fphpunit -v tests\u002FFeature\u002FmyTest.php\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:bp},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bp}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ vendor\u002Fbin\u002Fphpunit -v --filter myFuncTest tests\u002FFeature\u002FmyTest \n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20211005",extension:I,updatedAt:J},{slug:"20210924",description:"Typescriptでエラーになった場合の対処法です。自分用のメモです。",id:20210924,title:"Typescriptでのエラー対処法",createdAt:"2021-09-24T00:00:00.000Z",thumbnail:W,category:"Typescript,Javascript",toc:[{id:dW,depth:v,text:dX},{id:bq,depth:x,text:bq},{id:br,depth:x,text:br},{id:bs,depth:x,text:bs},{id:dY,depth:v,text:dZ},{id:d_,depth:v,text:d$}],body:{type:F,children:[{type:b,tag:w,props:{id:dW},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#object-is-possibly-null",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dX}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,aM]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"@"},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"Component"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:cR}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"asyncData"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:" $content"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:ea}]},{type:a,value:" params "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:ap},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:al}]},{type:a,value:eb},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:am}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:aP}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"$content"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,bV]},children:[{type:a,value:"'posts\u002F'"}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:"+"}]},{type:a,value:" params"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:a,value:"slug"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"fetch"}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:ap},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:bt}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:eb},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:ea}]},{type:a,value:c},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:c},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:b$}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:ca}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:cb}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,_]},children:[{type:a,value:cc}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:cd}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,_]},children:[{type:a,value:aG}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:ce}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:ap},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:bt}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:cf},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:bu}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:bv}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:a,value:cg},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:a,value:ec},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:c},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:bU}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"this.posts.title"}]},{type:a,value:"がnullになる場合があるとのことで以下のエラーが発生しました。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Object is possibly 'null'.\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:bq},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E5%AF%BE%E5%87%A6%E6%B3%951",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bq}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"簡単な対処法として、対象のオブジェクトに"},{type:b,tag:g,props:{},children:[{type:a,value:ed}]},{type:a,value:"の修飾子を追加します。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,aM]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:b$}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:ca}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:cb}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,_]},children:[{type:a,value:cc}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:cd}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,_]},children:[{type:a,value:aG}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:ce}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:ap},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:bt}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:cf},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:bu}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:bv}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:a,value:cg},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:ed}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:a,value:ec},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:c},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:br},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E5%AF%BE%E5%87%A6%E6%B3%952",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:br}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"nullでないことを保証する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,aM]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:b$}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:ca}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:cb}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,_]},children:[{type:a,value:cc}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:cd}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,_]},children:[{type:a,value:aG}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:ce}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:ap},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:bt}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:S}]},{type:a,value:cf},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:bu}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:bv}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:a,value:"posts "},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:"?"}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,A]},children:[{type:a,value:bv}]},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:a,value:cg},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:R}]},{type:a,value:"title "},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:bu}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,bV]},children:[{type:a,value:"''"}]},{type:a,value:ap},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:V},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:c},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:T}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:bs},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E5%AF%BE%E5%87%A6%E6%B3%953",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bs}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"tsconfig.json"}]},{type:a,value:"に\"strictNullChecks\":falseを追加する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"{\n  ...\n  \"strictNullChecks\":false,\n  ...\n}\n\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:dY},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#ts2307-cannot-find-module-xxxxx-or-its-corresponding-type-declarations",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:dZ}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"画像読み込み時にimportエラーが発生。\n読み込む画像に対しての型定義がないのが原因。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"import sample from '@client\u002Fassets\u002Fimg\u002Fsample.png'\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"対処法としては、"},{type:b,tag:g,props:{},children:[{type:a,value:"XXX.d.ts"}]},{type:a,value:"ファイルを、プロジェクト配下に作成後、以下を定義する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"declare module '*.png'\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:d_},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#eslint-type-boolean-trivially-inferred-from-a-boolean-literal-remove-type-annotationtypescript-eslintno-inferrable-types",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:d$}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下のように型推論できるような変数はあえて型定義をしなくても良いらしい。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"const a:boolean = false\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"こっちでOK。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[k,l]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"const a = false\n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20210924",extension:I,updatedAt:J},{slug:"20210923",description:"Linuxの基礎知識としてcronを学んだ際のメモです。",id:20210923,title:"Linuxのcronについてのメモ",createdAt:"2021-09-23T00:00:00.000Z",thumbnail:W,category:"Linux",toc:[{id:bw,depth:v,text:bw},{id:bx,depth:v,text:bx},{id:by,depth:x,text:by},{id:bz,depth:x,text:bz},{id:ee,depth:x,text:ef},{id:bA,depth:x,text:bA},{id:az,depth:x,text:az}],body:{type:F,children:[{type:b,tag:w,props:{id:bw},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#cron%E3%81%A8%E3%81%AF",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bw}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"cronとは、Linuxでジョブを定期実行する為の機能です。Linuxの標準機能です。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\ncronを利用するには "},{type:b,tag:af,props:{},children:[{type:a,value:"crond(cronデーモン)"}]},{type:a,value:" が起動している必要があります。こちらLinuxインストール時に自動で稼働します。"}]},{type:a,value:c},{type:b,tag:w,props:{id:bx},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#cron%E3%81%AE%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bx}]},{type:a,value:c},{type:b,tag:z,props:{id:by},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E8%B5%B7%E5%8B%95%E7%A2%BA%E8%AA%8D",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:by}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"systemctl status crond.service\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下のように"},{type:b,tag:g,props:{},children:[{type:a,value:"runnung"}]},{type:a,value:"になっていれば起動中です。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:av}]},{type:a,value:eg},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:aw}]},{type:a,value:"$ systemctl status crond.service\n● crond.service - Command Scheduler\n   Loaded: loaded "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"\u002Fusr\u002Flib\u002Fsystemd\u002Fsystem\u002Fcrond.service"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:ch}]},{type:a,value:" enabled"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:ch}]},{type:a,value:" vendor preset: enabled"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"\n   Active: active "},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"running"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:" since Thu "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:aA}]},{type:a,value:"-09-23 05:14:35 UTC"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:ch}]},{type:a,value:" 5min ago\n Main PID: "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:"4136"}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:B}]},{type:a,value:"crond"},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:C}]},{type:a,value:"\n    Tasks: "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:bZ}]},{type:a,value:"\n   Memory: "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:"952"}]},{type:a,value:".0K\n   CGroup: \u002Fsystem.slice\u002Fcrond.service\n           └─4136 \u002Fusr\u002Fsbin\u002Fcrond -n\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"起動していなければ、以下のコマンドでcrondを起動します。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"systemctl start crond.service\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:bz},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E7%99%BB%E9%8C%B2%E6%B8%88%E3%81%BF%E3%81%AEcron%E3%82%92%E7%A2%BA%E8%AA%8D",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bz}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"現在登録済みのcronのジョブを確認することができます。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:ci}]},{type:a,value:" -l\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:ee},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#cron%E3%81%AE%E8%BF%BD%E5%8A%A0%E7%B7%A8%E9%9B%86",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:ef}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:ci}]},{type:a,value:" -e\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:bA},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#cron%E3%81%AE%E5%89%8A%E9%99%A4",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bA}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:ci}]},{type:a,value:" -r\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:az},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#cron%E3%81%AE%E4%BE%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:az}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210923\u002F01.png",alt:az},children:[{type:a,value:c}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:ai,props:{},children:[{type:b,tag:aj,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:U,props:{},children:[{type:a,value:"左端から"}]},{type:b,tag:U,props:{},children:[{type:a,value:"頻度"}]},{type:b,tag:U,props:{},children:[{type:a,value:"指定可能数値"}]}]}]},{type:b,tag:ak,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:bZ}]},{type:b,tag:u,props:{},children:[{type:a,value:"分"}]},{type:b,tag:u,props:{},children:[{type:a,value:"0~59"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:ax}]},{type:b,tag:u,props:{},children:[{type:a,value:"時"}]},{type:b,tag:u,props:{},children:[{type:a,value:"0~23"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:ay}]},{type:b,tag:u,props:{},children:[{type:a,value:"日"}]},{type:b,tag:u,props:{},children:[{type:a,value:"1~31"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:dh}]},{type:b,tag:u,props:{},children:[{type:a,value:"月"}]},{type:b,tag:u,props:{},children:[{type:a,value:"1~12"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:di}]},{type:b,tag:u,props:{},children:[{type:a,value:"曜日"}]},{type:b,tag:u,props:{},children:[{type:a,value:"0~7(0と7は日曜)"}]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"◎10分おきにdateコマンドを実行して\u002Ftmp\u002Fa.txtに保存するという例"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"*\u002F10 * * * * "},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:"date"}]},{type:a,value:y},{type:b,tag:d,props:{className:[f,L]},children:[{type:a,value:"\u003E\u003E"}]},{type:a,value:eh}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u002Ftmp\u002Fa.txt"}]},{type:a,value:"を確認してみる。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:cj}]},{type:a,value:eh}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下のように10分おきにコマンドが実行される。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:av}]},{type:a,value:eg},{type:b,tag:d,props:{className:[f,n]},children:[{type:a,value:aw}]},{type:a,value:"$ "},{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:cj}]},{type:a,value:" \u002Ftmp\u002Fa.txt\nThu Sep "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:bB}]},{type:a,value:" 05:10:01 UTC "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:aA}]},{type:a,value:ck},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:bB}]},{type:a,value:" 05:20:01 UTC "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:aA}]},{type:a,value:ck},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:bB}]},{type:a,value:" 05:30:01 UTC "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:aA}]},{type:a,value:ck},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:bB}]},{type:a,value:" 05:40:01 UTC "},{type:b,tag:d,props:{className:[f,Q]},children:[{type:a,value:aA}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"■設定ファイルを表示"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"cronの設定を指定します。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[G,k]},children:[{type:b,tag:g,props:{},children:[{type:b,tag:d,props:{className:[f,K]},children:[{type:a,value:cj}]},{type:a,value:" \u002Fetc\u002Fcrontab\n"}]}]}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:ai,props:{},children:[{type:b,tag:aj,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:U,props:{},children:[{type:a,value:"key"}]},{type:b,tag:U,props:{},children:[{type:a,value:"意味"}]},{type:b,tag:U,props:{},children:[{type:a,value:"例"}]}]}]},{type:b,tag:ak,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"SHELL"}]},{type:b,tag:u,props:{},children:[{type:a,value:"cronで実行されるシェルを設定する"}]},{type:b,tag:u,props:{},children:[{type:a,value:"\u002Fbin\u002Fbash"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"PATH"}]},{type:b,tag:u,props:{},children:[{type:a,value:"cronに教えるパスの設定"}]},{type:b,tag:u,props:{},children:[{type:a,value:"\u002Fsbin:\u002Fbin:\u002Fusr\u002Fsbin:\u002Fusr\u002Fbin"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"MAILTO"}]},{type:b,tag:u,props:{},children:[{type:a,value:"cronの実行結果を送るユーザーまたはメールアドレス。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"送信しない場合は「MAILTO=\"\"」とする"}]},{type:b,tag:u,props:{},children:[{type:a,value:F}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"HOME"}]},{type:b,tag:u,props:{},children:[{type:a,value:"cronが実行されるカレントディレクトリ"}]},{type:b,tag:u,props:{},children:[{type:a,value:"\u002F"}]}]}]}]}]},dir:H,path:"\u002Fblog\u002F20210923",extension:I,updatedAt:J},{slug:"20210531",description:aB,id:ei,title:"PhpStormでリモートSSH",createdAt:"2021-05-31T00:00:00.000Z",thumbnail:"blog\u002Fimages\u002F20210531\u002Fphpstorm_thumb.png",category:"PhpStorm",toc:[{id:bC,depth:v,text:bC}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"AWSのEC2に接続する際に、VisualStudioCodeのリモートSSHプラグインが便利だったので、PhpStormでも同じような機能ないかなと思い探したら、似たのがありました。"}]},{type:a,value:c},{type:b,tag:w,props:{id:bC},children:[{type:b,tag:m,props:{href:"#%E6%89%8B%E9%A0%86",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bC}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210531\u002F20210531_01.png",alt:aB},children:[{type:a,value:c}]},{type:a,value:at},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210531\u002F20210531_02.png",alt:aB},children:[{type:a,value:c}]},{type:a,value:at},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210531\u002F20210531_03.png",alt:aB},children:[{type:a,value:c}]},{type:a,value:at},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210531\u002F20210531_04.png",alt:aB},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"参考)\n"},{type:b,tag:m,props:{href:"https:\u002F\u002Fqiita.com\u002Fnlog2n2\u002Fitems\u002F1d1358f6913249f3e186",rel:[M,N,O],target:P},children:[{type:a,value:"Visual Studio Code で Remote SSH する。"}]},{type:a,value:c},{type:b,tag:m,props:{href:"https:\u002F\u002Fqiita.com\u002Fakinko\u002Fitems\u002Fd7001a8fe3ac87e1790c",rel:[M,N,O],target:P},children:[{type:a,value:"【AWS】IntelliJ(Jetbrains)からAWSを操作する設定方法まとめ。AWS作業が爆速はかどります!"}]}]}]},dir:H,path:"\u002Fblog\u002F20210531",extension:I,updatedAt:J},{slug:"20210523",description:"Photoshopのコンテンツに応じた塗りつぶしの使い方。",id:20210523,title:"Photoshopのコンテンツに応じた塗りつぶし",createdAt:"2021-05-23T00:00:00.000Z",thumbnail:"blog\u002Fimages\u002Fphotoshop_thumb.png",category:"Design",toc:[{id:bD,depth:v,text:bD}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"Photoshopでの画像レタッチでよく使う超便利機能らしいのですが、今まで使ったことがなかった "},{type:b,tag:af,props:{},children:[{type:a,value:ej}]},{type:a,value:" についてメモしておこうと思います。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"用途としては、例えば..."}]},{type:a,value:c},{type:b,tag:ab,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"画像から不要な物を消す"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"背景の足りない部分をのばす"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"などができるようです。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n私はスタンプなどで時間をかけてやっていましたが、 "},{type:b,tag:af,props:{},children:[{type:a,value:ej}]},{type:a,value:" を利用すれば一瞬に、しかもキレイに仕上げることができます。"}]},{type:a,value:c},{type:b,tag:w,props:{id:bD},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E4%BD%BF%E3%81%84%E6%96%B9",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bD}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"使い方の説明をしていきたいと思います。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n以下は背景が足りない場合の伸ばし方です。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"まずは写真を開きます。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210523\u002F20210523_01.png",alt:aC},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:af,props:{},children:[{type:a,value:"イメージ \u003E カンバスサイズ"}]},{type:a,value:" から必要な画像サイズにリサイズします。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210523\u002F20210523_02.png",alt:aC},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"次に伸ばした部分を選択の上、"},{type:b,tag:af,props:{},children:[{type:a,value:"編集 \u003E コンテンツに応じた塗りつぶし"}]},{type:a,value:" を選択します。\n"},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210523\u002F20210523_03.png",alt:aC},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"右側のボックスの「サンプリング領域のオプション」からカスタムを選択し、"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n画像の端を塗りつぶします。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210523\u002F20210523_04.png",alt:aC},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"すると、自動で不足分の箇所をいい感じで描画してくれます。\n仕上がりも自然です。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"気になるところがあれば、すこしスタンプなどを合わせて利用すればより自然に仕上がると思います。"}]}]},dir:H,path:"\u002Fblog\u002F20210523",extension:I,updatedAt:J},{slug:"20210504",description:"ポートフォリオサイトリニューアルしました。",id:ei,title:"ポートフォリオサイトリニューアル",createdAt:"2021-05-04T00:00:00.000Z",thumbnail:W,category:aY,toc:[],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"この度ポートフォリオサイトをリニューアルしました。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n特にこのサイトを利用してなにか仕事につなげたいなど強い思いはないのですが、"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nはてなブログに書いていたブログも合わせて管理したいなと思いリニューアルしました。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ブログを作るにあたり、WordPressなどのCMSではなく静的サイトジェネレーターを使うことにしました。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n理由としては、CMSはDBを利用する必要がある為面倒な為です。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"静的サイトジェネレーターはNuxt.jsを利用しています。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nまた、ブログ部分はmarkdownを利用したかったので、"},{type:b,tag:m,props:{href:ek,rel:[M,N,O],target:P},children:[{type:a,value:"nuxt\u002Fcontentモジュール"}]},{type:a,value:"を利用しました。"}]},{type:a,value:c},{type:b,tag:an,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Content とは"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"nuxt\u002Fcontentモジュールを使ってNuxtJSアプリケーションを強化します。content\u002Fディレクトリに書き込むことで、MongoDBのようなAPIを使ってMarkdown、JSON、YAML、XML、CSVファイルを取得します。これはGitベースのヘッドレスCMSとして動作します。"}]},{type:a,value:c},{type:b,tag:m,props:{href:ek},children:[{type:a,value:"nuxt\u002Fcontent"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"まだまだ触りたてで、nuxt\u002Fcontentの機能を充分に利用できていませんが、少しだけWebの知識があれば割と手軽にブログを作成することができます。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n今後はこちらに、日々学んだことや思ったことを自由に書いていこうと思います。\n"},{type:b,tag:s,props:{},children:[]},{type:b,tag:s,props:{},children:[]},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20210504\u002F20210504_01.gif",alt:aC},children:[]}]},{type:a,value:c},{type:b,tag:h,props:{style:"font-size:10px; margin-top:-10px;margin-bottom: 24px;"},children:[{type:a,value:"こちらは以前のポートフォリオサイトです。"}]}]},dir:H,path:"\u002Fblog\u002F20210504",extension:I,updatedAt:J},{slug:"20201030",description:"自動でEC2にソースをデプロイにチャレンジです。次回やるときの為ののメモです。",id:2021030,title:"CodeDeployと CodePipelineを使ってEC2に自動デプロイのメモ",createdAt:"2020-10-30T00:00:00.000Z",thumbnail:"blog\u002Fimages\u002Faws_code_deploy_thumb.png",category:aV,toc:[{id:bE,depth:v,text:bE},{id:el,depth:v,text:em},{id:en,depth:x,text:eo},{id:bF,depth:v,text:bF},{id:ep,depth:v,text:eq},{id:ag,depth:x,text:ag},{id:aq,depth:x,text:aq},{id:er,depth:v,text:es},{id:bG,depth:x,text:bG},{id:bH,depth:x,text:bH},{id:bI,depth:x,text:bI},{id:bJ,depth:x,text:bJ},{id:ah,depth:x,text:ah}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"自動でEC2にソースをデプロイにチャレンジです。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n次回やるときの為ののメモです。"}]},{type:a,value:c},{type:b,tag:w,props:{id:bE},children:[{type:b,tag:m,props:{href:"#%E8%87%AA%E5%8B%95%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%AE%E6%B5%81%E3%82%8C",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bE}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"違うかもしれませんが、やりたいことはこんなイメージです。"}]},{type:a,value:c},{type:b,tag:ae,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"githubにpush"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"CodePipelineをが起動"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"codeDeployがEC2にpush"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:el},children:[{type:b,tag:m,props:{href:"#ec2%E3%81%AE%E8%A8%AD%E5%AE%9A",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:em}]},{type:a,value:c},{type:b,tag:z,props:{id:en},children:[{type:b,tag:m,props:{href:"#codedeploy-%E3%82%A8%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%88%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eo}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"そのままではCodeDeployからEC2が操作できないのでAgentを追加する必要がある。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:m,props:{href:"https:\u002F\u002Fdocs.aws.amazon.com\u002Fja_jp\u002Fcodedeploy\u002Flatest\u002Fuserguide\u002Fcodedeploy-agent-operations-install-linux.html",rel:[M,N,O],target:P},children:[{type:a,value:"Amazon Linux 用または RHEL 用の CodeDeploy エージェントをインストールする - AWS CodeDeploy"}]}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo yum update\n$ sudo yum install ruby\n$ sudo yum install wget\n$ cd \u002Fhome\u002Fec2-user\n\u002F\u002F アジアパシフィック (東京)の場合\n\u002F\u002F wget https:\u002F\u002Faws-codedeploy-ap-northeast-1.s3.ap-northeast-1.amazonaws.com\u002Flatest\u002Finstall\n$ wget https:\u002F\u002F{bucket-name}.s3.{region-identifier}.amazonaws.com\u002Flatest\u002Finstall\n$ chmod +x .\u002Finstall\n$ sudo .\u002Finstall auto\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"サービスが正しく実行されているかは以下のコマンドで確認。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo service codedeploy-agent status\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"実行されていない場合、デプロイ時に以下のようなエラーが発生する。"}]},{type:a,value:c},{type:b,tag:an,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The overall deployment failed because too many individual instances failed deployment, too few healthy instances are available for deployment, or some instances in your deployment group are experiencing problems."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:bF},children:[{type:b,tag:m,props:{href:"#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%81%AE%E8%A8%AD%E5%AE%9A",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bF}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"CodeDeployには"},{type:b,tag:g,props:{},children:[{type:a,value:"appspec.yml"}]},{type:a,value:"が必要で、同期させるファイルのルートに配置する必要がある。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"version: 0.0\nos: linux\nfiles:\n    - source: \u002Findex.html\n      destination: \u002Fvar\u002Fwww\u002Fhtml\u002F\nhooks:\n  BeforeInstall:\n    - location: scripts\u002Finstall_dependencies\n      timeout: 300\n      runas: root\n    - location: scripts\u002Fstart_server\n      timeout: 300\n      runas: root\n  ApplicationStop:\n    - location: scripts\u002Fstop_server\n      timeout: 300\n      runas: root\n"}]}]}]},{type:a,value:c},{type:b,tag:ab,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"files\n"},{type:b,tag:ab,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"source : 同期元"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"destination : 同期先"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"hooks\n"},{type:b,tag:ab,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"BeforeInstall(例) : イベント名\n"},{type:b,tag:ab,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"location : イベントで実行するファイル（場所）"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"timeout : 実行時間"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"runas : ユーザー"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:cl,props:{id:"scriptsinstall_dependencies"},children:[{type:b,tag:m,props:{href:"#scriptsinstall_dependencies",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:"scripts\u002Finstall_dependencies"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"apacheをインストールする。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:" #!\u002Fbin\u002Fbash\nyum install -y httpd\n"}]}]}]},{type:a,value:c},{type:b,tag:cl,props:{id:"scriptsstart_server"},children:[{type:b,tag:m,props:{href:"#scriptsstart_server",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:"scripts\u002Fstart_server"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"apacheを起動する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"#!\u002Fbin\u002Fbash\nservice httpd start\n"}]}]}]},{type:a,value:c},{type:b,tag:cl,props:{id:"scriptsstop_server"},children:[{type:b,tag:m,props:{href:"#scriptsstop_server",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:"scripts\u002Fstop_server"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"apacheを停止する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"#!\u002Fbin\u002Fbash\nisExistApp=`pgrep httpd`\nif [[ -n  $isExistApp ]]; then\n    service httpd stop        \nfi\n"}]}]}]},{type:a,value:c},{type:b,tag:ac,props:{id:cm},children:[{type:b,tag:m,props:{href:"#%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%83%95%E3%83%83%E3%82%AF",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:cm}]},{type:a,value:c},{type:b,tag:an,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"デプロイは"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n-アプリケーションの停止"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n-アプリケーションファイルのダウンロード"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n-アプリケーションファイルのインストール"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n-アプリケーションの起動"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nという順で実行され、 次のデプロイライフサイクル図において、オレンジ背景の箇所が実際にフック処理を割り込めるイベントです。"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201030\u002F01.png",alt:cm},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:an,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:m,props:{href:"https:\u002F\u002Fdev.classmethod.jp\u002Farticles\u002Fcodedeploy-applicationstop-hook-not-executed-for0first-deployment\u002F",rel:[M,N,O],target:P},children:[{type:a,value:"参考:CodeDeployのApplicationStopイベントフックはどう実行される?"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"※ ApplicationStopは2回目のデプロイ移行実行される"}]},{type:a,value:c},{type:b,tag:w,props:{id:ep},children:[{type:b,tag:m,props:{href:"#codedeploy%E3%81%AE%E8%A8%AD%E5%AE%9A",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eq}]},{type:a,value:c},{type:b,tag:z,props:{id:ag},children:[{type:b,tag:m,props:{href:"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A8%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E4%BD%9C%E6%88%90",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:ag}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"CodeDeploy \u003E アプリケーション \u003E 「アプリケーションの作成」ボタンを押す。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"アプリケーション名を入力して、コンピューティングプラットフォームに「EC2\u002Fオンプレミス」を選択。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201030\u002F02.png",alt:ag},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"デプロイグループを作成する。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201030\u002F03.png",alt:ag},children:[{type:a,value:c}]},{type:a,value:at},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201030\u002F04.png",alt:ag},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:z,props:{id:aq},children:[{type:b,tag:m,props:{href:"#github%E3%82%92%E6%8E%A5%E7%B6%9A",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aq}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"CodeDeploy \u003E アプリケーション \u003E codedeploy-test \u003E codedeploy-group-test \u003E 「デプロイ作成」を押す。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"必要項目を入力する。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201030\u002F05.png",alt:aq},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"デプロイする。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201030\u002F06.png",alt:aq},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:er},children:[{type:b,tag:m,props:{href:"#codepipeline%E3%81%AE%E8%A8%AD%E5%AE%9A",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:es}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"CodePipeline \u003E パイプライン \u003E 「パイプラインを作成する」ボタンを押す。"}]},{type:a,value:c},{type:b,tag:z,props:{id:bG},children:[{type:b,tag:m,props:{href:"#%E3%83%91%E3%82%A4%E3%83%97%E3%83%A9%E3%82%A4%E3%83%B3%E3%81%AE%E8%A8%AD%E5%AE%9A",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bG}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"「パイプライン名」を入力。"}]},{type:a,value:c},{type:b,tag:z,props:{id:bH},children:[{type:b,tag:m,props:{href:"#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bH}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ソースプロバイダーに「Github」。\nリポジトリ、ブランチに対象のものを設定。"}]},{type:a,value:c},{type:b,tag:z,props:{id:bI},children:[{type:b,tag:m,props:{href:"#%E3%83%93%E3%83%AB%E3%83%89%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bI}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Dockerイメージを作成する必要がある場合や、javaなどのコンパイル言語の場合に利用します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nphpやrubyのソースを配置するだけであれば、ビルドが必要ないのでスキップします、"}]},{type:a,value:c},{type:b,tag:z,props:{id:bJ},children:[{type:b,tag:m,props:{href:"#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bJ}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"デプロイプロバイダーはCodeDeployを選択。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nその他の項目もCodeDeployで作成したものを設定する。"}]},{type:a,value:c},{type:b,tag:z,props:{id:ah},children:[{type:b,tag:m,props:{href:"#%E3%83%91%E3%82%A4%E3%83%97%E3%83%A9%E3%82%A4%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:ah}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"codepipelineが作成されて、デプロイが実行されます。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201030\u002F07.png",alt:ah},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"CodePipelineを利用する場合はEC2にS3にアクセスする権限を与える必要があります。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n権限がない場合は以下のようなエラーが発生します。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201030\u002F08.png",alt:ah},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"S3への権限を追加する。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201030\u002F09.png",alt:ah},children:[{type:a,value:c}]}]},dir:H,path:"\u002Fblog\u002F20201030",extension:I,updatedAt:J},{slug:"20201015",description:"あまり無いと思いますが、クロスドメインでベーシック認証をする必要があったので、忘れないようにメモしておきます。",id:20201015,title:"クロスドメインでBasic認証を自動ログインさせるメモ",createdAt:"2020-10-15T00:00:00.000Z",thumbnail:W,category:aY,toc:[{id:et,depth:v,text:eu}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"あまり無いと思いますが、クロスドメインでベーシック認証をする必要があったので、"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n忘れないようにメモしておきます。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"仕組みとしては以下のイメージ。"}]},{type:a,value:c},{type:b,tag:ae,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"クライアント(表示元)にiframeを埋める。"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"iframeのsrcにベーシック認証先のサーバーに配置したcgiファイルを指定する"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"cgiでクライアント(表示元)のjsを呼び出す。"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"クライアント(表示元)のjsでベーシック認証を行う。"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"※ 手順3のcgiでベーシック認証を行っても良いかも"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201015\u002F01.png",alt:"クロスドメインでBasic認証を自動ログイン"},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:et},children:[{type:b,tag:m,props:{href:"#cgi%E3%82%92%E8%BF%BD%E5%8A%A0",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eu}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:cn}]},{type:a,value:bk}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"ScriptAlias \u002Fcgi-bin\u002F \"\u002Fvar\u002Fwww\u002Fcgi-bin\u002F\"\n\n\u003CDirectory \"\u002Fvar\u002Fwww\u002Fcgi-bin\"\u003E\n   AllowOverride None\n   Options None\n   Order allow,deny\n   Allow from all\n\u003C\u002FDirectory\u003E\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u002Fvar\u002Fwww\u002Fcgi-bin"}]},{type:a,value:"にcgiファイルを配置。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"vi \u002Fvar\u002Fwww\u002Fcgi-bin\u002Fauthentication.cgi\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"中身はこんな感じ。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"#!\u002Fusr\u002Fbin\u002Fperl --\nprint \"Content-type: text\u002Fhtml\\n\\n\";\nprint \"\u003Chtml\u003E\u003Chead\u003E\\n\";\nprint \"\u003Cscript type=\\\"text\u002Fjavascript\\\" src=\\\"http:\u002F\u002Fhoge.co.jp\u002Fauthentication.js\\\"\u003E\u003C\u002Fscript\u003E\\n\";\nprint \"\u003C\u002Fhead\u003E\u003C\u002Fhtml\u003E\\n\";\nexit;\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"該当のcgiファイルの権限を変更。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"chmod 755 authentication.cgi\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"クライアント("},{type:b,tag:m,props:{href:"http:\u002F\u002Fhoge.co.jp)%E3%81%ABjs%E3%83%95%E3%82%A3%E3%82%A2%E3%83%AB%E3%82%92%E7%94%A8%E6%84%8F%E3%80%82",rel:[M,N,O],target:P},children:[{type:a,value:"http:\u002F\u002Fhoge.co.jp)にjsフィアルを用意。"}]},{type:a,value:"\nベーシック認証用のスクリプトを用意する。\n※第3引数のasyncはtrue (非同期) or false (同期)は要件によって。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"(function () {\n  const xhr = new XMLHttpRequest()\n  xhr.open(\"GET\", \"http:\u002F\u002Ffuga.com\",\n    false, \"user\", \"password\")\n  xhr.send(null);\n}());\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ただし、上記だと通信内容にログイン情報が出てしまうので、リクエストヘッダーの"},{type:b,tag:g,props:{},children:[{type:a,value:"Authorization"}]},{type:a,value:"を利用することで少し隠蔽することができます。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"(function() {\n  const xhr = new XMLHttpRequest()\n  const authorizationBasic = window.btoa('user' + ':' + 'password')\n  xhr.open('GET', 'http:\u002F\u002Ffuga.com\"', false)\n  xhr.setRequestHeader('Authorization', 'Basic ' + authorizationBasic)\n  xhr.send(null)\n})()\n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20201015",extension:I,updatedAt:J},{slug:"20201014",description:"ECS Fargateにdockerイメージを利用してコンテナを立ててみる為のメモです。自分用のメモなので、手順だけ書いています。",id:20201014,title:"ECS Fargateにdockerイメージを利用してコンテナを立ててみる為のメモ",createdAt:"2020-10-14T00:00:00.000Z",thumbnail:"blog\u002Fimages\u002Faws_fargate_thumb.png",category:aV,toc:[{id:X,depth:v,text:X},{id:bK,depth:v,text:bK},{id:ev,depth:v,text:aD},{id:ew,depth:v,text:ex},{id:Y,depth:x,text:Y},{id:ar,depth:x,text:ar},{id:$,depth:x,text:$}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"ECS Fargateにdockerイメージを利用してコンテナを立ててみる為のメモです。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n自分用のメモなので、手順だけ書いています。"}]},{type:a,value:c},{type:b,tag:w,props:{id:X},children:[{type:b,tag:m,props:{ariaHidden:o,href:co,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:X}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"VPCやサブネットは作成ずみ。"}]},{type:a,value:c},{type:b,tag:w,props:{id:bK},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#docker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bK}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"適当なフォルダを作成。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ mkdir ecs_sample\n$ cd ecs_sample\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Dockerfileを作成。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nnginxのdockerコンテナを作成する為のイメージ。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"FROM nginx:latest\n\nCOPY .\u002Fsrc \u002Fusr\u002Fshare\u002Fnginx\u002Fhtml\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"srcディレクトリと表示確認用にhtmlを作成。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ mkdir src\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"src\u002Findex.html"}]},{type:a,value:"の中身は何でもよい。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Hello!\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"dockerイメージを作成する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ docker build . -t ecs-test$\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"イメージが作成できているか確認。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ docker images\n\nREPOSITORY                                                            TAG                 IMAGE ID            CREATED             SIZE\necs-test                                                              latest              7fdbd8fef5df        26 seconds ago      132MB\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ローカルでdockerイメージからコンテナを起動してみる。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nオプションの"},{type:b,tag:g,props:{},children:[{type:a,value:"--rm"}]},{type:a,value:"はコンテナを停止したら、コンテナを削除する指定。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ docker run --rm -p 8080:80 ecs-test -d\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"http:\u002F\u002Flocalhost:8080\u002F"}]},{type:a,value:"で「Hello!」と表示されていればOK。"}]},{type:a,value:c},{type:b,tag:w,props:{id:ev},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#ecr%E3%81%AB%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%82%92%E7%99%BB%E9%8C%B2",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aD}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"作成したdockerイメージをECRに登録します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nECRに登録したイメージはECSから利用することができます。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"まずは登録用のリポジトリを作成(githubのリポジトリみたいなもの)。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F01.png",alt:aD},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"作成したリポジトリに、イメージをpushします。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\npush方法は、「プッシュコマンドを表示」のコマンドを実行していくだけです。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F02.png",alt:aD},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"イメージがプッシュされるとリポジトリに以下のように表示されます。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F03.png",alt:aD},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:ew},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#ecs%E3%82%92%E4%BD%9C%E6%88%90",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:ex}]},{type:a,value:c},{type:b,tag:z,props:{id:Y},children:[{type:b,tag:m,props:{ariaHidden:o,href:ey,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:Y}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"クラスター \u003E クラスターを作成 \u003E ネットワーキングのみ(AWS Fargateを使用)"}]},{type:a,value:"を選択して「次のステップへ」"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"クラスター名と、タグだけ設定して「作成」。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F04.png",alt:Y},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:ez}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F05.png",alt:Y},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:z,props:{id:ar},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%82%BF%E3%82%B9%E3%82%AF%E3%82%92%E4%BD%9C%E6%88%90",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:ar}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タスクとはdocker-composeみたいなもの。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"タスク定義 \u003E 新しいタスク定義を作成 \u003E FARGATE"}]},{type:a,value:"を選択して「次のステップへ」。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タスクの設定はこんな感じ。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nタスクの実行 IAM ロールは初めての場合は、「新しいロールを作成」を選択すると自動で「ecsTaskExecutionRole」ロールが作成される。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F06.png",alt:ar},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"コンテナを追加します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nイメージには、ECRで登録したイメージのURI、\nもしくは"},{type:b,tag:g,props:{},children:[{type:a,value:"ngins:latest"}]},{type:a,value:"のようにdocker hubにあるイメージを指定することもできる。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F07.png",alt:ar},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タグ(Name:ecs-sample-taskとか）だけ追加して「作成」ボタンを押す。"}]},{type:a,value:c},{type:b,tag:z,props:{id:$},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:$}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"サービスはクラスターとタスク定義を結びつけるようなもの。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"クラスター \u003E 作成したクラスタ \u003E 「サービス」タブ \u003E 「作成」を押す。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F08.png",alt:$},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下のような設定をして 「次のステップへ」を押す。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F09.png",alt:$},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"VPCやサブネット、セキュリティグループ(インターネットにつながる）を設定して「次のステップへ」を押す。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F10.png",alt:$},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Auto Scaling はそのままの設定で「次のステップへ」を押し「サービスの作成」を押す。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"サービスが作成され、「タスク」が起動します。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nコンテナが起動すると、ステータスがRUNNINGになります。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F11.png",alt:$},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タスクのパブリックIPから表示を確認することができます。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201014\u002F12.png",alt:$},children:[{type:a,value:c}]}]},dir:H,path:"\u002Fblog\u002F20201014",extension:I,updatedAt:J},{slug:"20201013",description:"EC2のApacheでBASIC認証、DIGEST認証メモです。",id:20201013,title:"EC2のApacheでBASIC認証、DIGEST認証メモ",createdAt:"2020-10-13T00:00:00.000Z",thumbnail:"blog\u002Fimages\u002Faws_thumb.png",category:aV,toc:[{id:eA,depth:x,text:eB},{id:eC,depth:x,text:eD}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"EC2にssh接続後の手順。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Apacheをインストール。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo yum update\n$ sudo yum install httpd -y\n$ sudo chkconfig httpd on\n"}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:eA},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#basic%E8%AA%8D%E8%A8%BC",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eB}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:eE}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"sudo htpasswd -c -b \u002Fetc\u002Fhttpd\u002Fconf\u002F.htpasswd {user} {password}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:cn}]},{type:a,value:bk}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u003CDirectory \"\u002Fvar\u002Fwww\u002Fhtml\u002F\"\u003E\n  AuthUserFile \u002Fetc\u002Fhttpd\u002Fconf\u002F.htpasswd\n  AuthGroupFile \u002Fdev\u002Fnull\n  AuthName \"Basic Auth\"\n  AuthType Basic\n  Require valid-user\n\u003C\u002FDirectory\u003E\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:eF}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:eG}]}]}]},{type:a,value:c},{type:b,tag:z,props:{id:eC},children:[{type:b,tag:m,props:{ariaHidden:o,href:"#digest%E8%AA%8D%E8%A8%BC",tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eD}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:eE}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u002F\u002F htdigest -c \u002Fetc\u002Fhttpd\u002Fconf\u002F.digestpass \"{領域名}\" {user}\n$ htdigest -c \u002Fetc\u002Fhttpd\u002Fconf\u002F.digestpass \"Digest Auth\" useri\n\nNew password： {password}\nRe-type new password： {password}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:cn}]},{type:a,value:bk}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u003CDirectory \"\u002Fvar\u002Fwww\u002Fhtml\"\u003E\n    AuthType Digest\n    AuthName \"Digest Auth\"\n    AuthUserFile \"\u002Fetc\u002Fhttpd\u002Fconf\u002F.digestpass\"\n    Require valid-user\n\u003C\u002FDirectory\u003E\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:eF}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:eG}]}]}]}]},dir:H,path:"\u002Fblog\u002F20201013",extension:I,updatedAt:J},{slug:"20201007",description:"herokuを利用してnuxtをSSRでホスティングするメモです。",id:20201007,title:"herokuを利用してnuxtをSSRでホスティングするメモ",createdAt:"2020-10-07T00:00:00.000Z",thumbnail:"blog\u002Fimages\u002Fheroku_thumb.png",category:"Heroku",toc:[],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"herokuを利用してnuxtをSSRでホスティングする。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"nuxtプロジェクトを作成する。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nプロジェクトはSSRで作成する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ yarn create nuxt-app sampleApp\n$ cd sampleApp\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"SSRを試したいので、"},{type:b,tag:g,props:{},children:[{type:a,value:"\u002Fpages"}]},{type:a,value:"配下に"},{type:b,tag:g,props:{},children:[{type:a,value:"sub\u002F_id.vue"}]},{type:a,value:"を作成する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u003Ctemplate\u003E\n  \u003Cdiv\u003Esub\u003C\u002Fdiv\u003E\n\u003C\u002Ftemplate\u003E\n\n\u003Cscript\u003E\nexport default {\n  name: 'Id'\n}\n\u003C\u002Fscript\u003E\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ビルドする。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ yarn build\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"package.json"}]},{type:a,value:"を変更。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nheroku-prebuild後に実行されるコマンドを"},{type:b,tag:g,props:{},children:[{type:a,value:"heroku-postbuild"}]},{type:a,value:"に指定する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"  \"scripts\": {\n    \"dev\": \"nuxt\",\n    \"build\": \"nuxt build\",\n    \"start\": \"nuxt start\",\n    \"generate\": \"nuxt generate\",\n    \"heroku-postbuild\": \"npm run build\" \u002F\u002F + 追加\n  },\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Heroku CLIをインストール。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ brew tap heroku\u002Fbrew && brew install heroku\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Herokuにアプリを作成。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201007\u002F01.png",alt:bL},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"環境変数を設定。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"HOST : 0.0.0.0\n"}]}]}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201007\u002F02.png",alt:bL},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"herokuにログインする。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nブラウザが立ち上がるのでログインする。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ heroku login\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"gitに登録。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ heroku git:remote -a sampleapp201007\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"herokuにプッシュ。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ git add .\n$ git commit -m 'initial commit'\n$ git push heroku master\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"herokuのコンソールからアプリを表示。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201007\u002F03.png",alt:bL},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"subページも表示。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20201007\u002F04.png",alt:bL},children:[{type:a,value:c}]}]},dir:H,path:"\u002Fblog\u002F20201007",extension:I,updatedAt:J},{slug:"20200926",description:eH,id:20200926,title:"vesselで作ったローカルの開発環境をEC2にそのまま作る手順のメモ",createdAt:"2020-09-26T00:00:00.000Z",thumbnail:"blog\u002Fimages\u002Fvessel_thumb.png",category:cp,toc:[{id:X,depth:v,text:X},{id:eI,depth:v,text:eJ}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:eH},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n自分用のメモなので参考にならないかもしれません。"}]},{type:a,value:c},{type:b,tag:w,props:{id:X},children:[{type:b,tag:m,props:{href:co,ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:X}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ローカル環境はvesselを使って作成。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n作成方法は"},{type:b,tag:m,props:{href:"https:\u002F\u002Fwww.nogson.blog\u002Fentry\u002F2020\u002F07\u002F11\u002F110515",rel:[M,N,O],target:P},children:[{type:a,value:cT}]},{type:a,value:"を参考に。"}]},{type:a,value:c},{type:b,tag:w,props:{id:eI},children:[{type:b,tag:m,props:{href:"#ec2%E3%81%ABlaravel%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92clone%E3%81%99%E3%82%8B",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eJ}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"EC2に接続。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ssh -i {keypair} ec2-user@{パブリックアドレス}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"vesselで環境を作るので、dockerをインストール。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo yum update -y\n$ sudo yum install -y docker\n$ sudo systemctl start docker.service\n$ sudo systemctl enable docker.service\n$ sudo usermod -a -G docker ec2-user\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"docker-composeもインストール。"},{type:b,tag:s,props:{},children:[]},{type:a,value:c},{type:b,tag:m,props:{href:"https:\u002F\u002Fdocs.docker.com\u002Fcompose\u002Finstall\u002F#install-compose",rel:[M,N,O],target:P},children:[{type:a,value:"Install Docker Compose | Docker Documentation"}]},{type:a,value:"のLinuxを参考。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo curl -L \"https:\u002F\u002Fgithub.com\u002Fdocker\u002Fcompose\u002Freleases\u002Fdownload\u002F1.27.4\u002Fdocker-compose-$(uname -s)-$(uname -m)\" -o \u002Fusr\u002Flocal\u002Fbin\u002Fdocker-compose\n$ sudo chmod +x \u002Fusr\u002Flocal\u002Fbin\u002Fdocker-compose\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"phpをインストール。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo amazon-linux-extras install php7.3\n$ sudo yum install php-cli php-xml php-json php-mbstring php-process php-common php-fpm php-zip php-mysqlnd -y\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"composerをインストール。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo curl -sS https:\u002F\u002Fgetcomposer.org\u002Finstaller | php\n$ sudo mv composer.phar \u002Fusr\u002Flocal\u002Fbin\u002Fcomposer\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"vesselをインストールする場合にメモリ不足になる場合があるので、以下を実行。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo dd if=\u002Fdev\u002Fzero of=\u002Fswapfile bs=1M count=1024\n$ sudo chmod 600 \u002Fswapfile\n$ sudo mkswap \u002Fswapfile\n$ sudo swapon \u002Fswapfile\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"gitのインストール。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo yum install git\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ファイルをgit cloneする。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ sudo git clone {gitのurl}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"cloneしたファイルの権限を変更。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"sudo chmod -R 777 {colneしたファイル}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"cloneしたファイルへ移動。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ cd {colneしたファイル}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:".envを作成"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"cp .env.example .env\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"mysqlのhostを変更"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"DB_CONNECTION=mysql\nDB_HOST=10.0.0.200 #インスタンスのプライベートIP\nDB_PORT=3306\nDB_DATABASE=db\nDB_USERNAME=root\nDB_PASSWORD=secret\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:".\u002Fvesselのインストールとセットアップ。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ composer require shipping-docker\u002Fvessel\n# dockerフォルダ配下にイメージ用のapp、mysql、nodeなどが作成済みの場合は以下は不要\n$ php artisan vendor:publish --provider=\"Vessel\\VesselServiceProvider\"\n$ bash vessel init\n$ .\u002Fvessel start\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"docker -ps"}]},{type:a,value:"でコンテナが立ち上がっているかを確認してマイグレーションを実行。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n※ これはDBとマイグレーションを利用している場合のみ。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:".\u002Fvessel php artisan migrate\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"コンテナが立ち上がっていなかったら、以下を実行。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:".\u002Fvessel up -d\n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20200926",extension:I,updatedAt:J},{slug:"20200925",description:"サーバーやインフラの知識は素人同然なので間違いや、説明不足が多いと思います。また、ハマりそうなので自分用のメモです。",id:20200925,title:"Mysql接続に関して困ったことメモ",createdAt:"2020-09-25T00:00:00.000Z",thumbnail:W,category:eK,toc:[{id:X,depth:x,text:X},{id:bM,depth:v,text:bM},{id:eL,depth:v,text:eM},{id:bN,depth:v,text:bN},{id:bO,depth:v,text:bO},{id:bP,depth:v,text:bP}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"サーバーやインフラの知識は素人同然なので間違いや、説明不足が多いと思います。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nまた、ハマりそうなので自分用のメモです。"}]},{type:a,value:c},{type:b,tag:z,props:{id:X},children:[{type:b,tag:m,props:{href:co,ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:X}]},{type:a,value:c},{type:b,tag:ab,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"Laravelを利用"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"MySQL8.0.xを利用"}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"EC2にDBサーバーをたてる"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:bM},children:[{type:b,tag:m,props:{href:"#%E5%95%8F%E9%A1%8C",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bM}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ローカル環境では問題なくDB(mysql)に接続できていた。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nEC2にSSH接続はできている。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nmysqlコマンドでデータベースへログインもてきている。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nLaravel "},{type:b,tag:g,props:{},children:[{type:a,value:"php artisan migrate"}]},{type:a,value:"を実行するとエラーになる。"}]},{type:a,value:c},{type:b,tag:w,props:{id:eL},children:[{type:b,tag:m,props:{href:"#env%E3%81%AE%E8%A8%AD%E5%AE%9A",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eM}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"DB_CONNECTION=mysql\nDB_HOST=10.0.0.69 # EC2のプライベートIPアドレス\nDB_PORT=3306\nDB_DATABASE=db\nDB_USERNAME=root\nDB_PASSWORD=password\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:bN},children:[{type:b,tag:m,props:{href:"#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E7%A2%BA%E8%AA%8D",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bN}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"EC2上でmysqlにログイン。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nユーザー情報を確認。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"mysql\u003E SELECT user, host, plugin FROM mysql.user;\n+------------------+-----------+-----------------------+\n| user             | host      | plugin                |\n+------------------+-----------+-----------------------+\n| mysql.infoschema | localhost | caching_sha2_password |\n| mysql.session    | localhost | caching_sha2_password |\n| mysql.sys        | localhost | caching_sha2_password |\n| root             | localhost | caching_sha2_password |\n+------------------+-----------+-----------------------+\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ローカル環境と少し違う。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nローカル環境はこんな感じだった。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"+---------------+-----------+-----------------------+\n| user          | host      | plugin                |\n+---------------+-----------+-----------------------+\n| root          | localhost | mysql_native_password |\n| mysql.session | localhost | mysql_native_password |\n| mysql.sys     | localhost | mysql_native_password |\n| root          | %         | mysql_native_password |\n| default       | %         | mysql_native_password |\n+---------------+-----------+-----------------------+\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:bO},children:[{type:b,tag:m,props:{href:"#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E3%80%81%E6%A8%A9%E9%99%90%E3%82%84%E8%AA%8D%E8%A8%BC%E6%96%B9%E5%BC%8F%E3%82%92%E5%A4%89%E6%9B%B4",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bO}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ローカル環境に合わせてユーザーの追加や、権限や認証方式を変更していく。"}]},{type:a,value:c},{type:b,tag:ac,props:{id:eN},children:[{type:b,tag:m,props:{href:"#%E2%97%8E%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E8%BF%BD%E5%8A%A0",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eN}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"hostが"},{type:b,tag:g,props:{},children:[{type:a,value:"localhost"}]},{type:a,value:"だと外部からの接続ができない。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n外部からの接続ができる"},{type:b,tag:g,props:{},children:[{type:a,value:"%"}]},{type:a,value:"を指定する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"create user 'root'@'%' identified by 'password';\n"}]}]}]},{type:a,value:c},{type:b,tag:ac,props:{id:eO},children:[{type:b,tag:m,props:{href:"#%E2%97%8E%E6%A8%A9%E9%99%90%E3%82%92%E5%A4%89%E6%9B%B4",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eO}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"dbデータベースへのアクセスを許可する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"grant all privileges on db.* to 'root'@'%';\n"}]}]}]},{type:a,value:c},{type:b,tag:ac,props:{id:eP},children:[{type:b,tag:m,props:{href:"#%E2%97%8E%E8%AA%8D%E8%A8%BC%E6%96%B9%E5%BC%8F%E3%81%AE%E5%A4%89%E6%9B%B4",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:eP}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:m,props:{href:"https:\u002F\u002Fqiita.com\u002Fucan-lab\u002Fitems\u002F3ae911b7e13287a5b917",rel:[M,N,O],target:P},children:[{type:a,value:"MySQL8.0 認証方式を変更する(Laravel5)"}]},{type:a,value:"を参考にする。"}]},{type:a,value:c},{type:b,tag:an,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"MySQL8.0.4以降 のログイン認証方式は caching_sha2_password がデフォルト"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"PHPのMySQL接続ライブラリがcaching_sha2_passwordに未対応のため接続不可\n解決策としては認証方式をmysql_native_password に戻す"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"mysql\u003E ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';\nmysql\u003E ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'password';\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\u002Fetc\u002Fmy.cnf"}]},{type:a,value:"に以下を追記。(コメントアウトしてあったので表示しただけ)"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"default_authentication_plugin=mysql_native_password\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:bP},children:[{type:b,tag:m,props:{href:"#%E3%81%BE%E3%81%A8%E3%82%81",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bP}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ローカルで利用しているdockerファイルで環境を構築すればこんな問題はおこらなかったのかも。。。"}]}]},dir:H,path:"\u002Fblog\u002F20200925",extension:I,updatedAt:J},{slug:"20200815",description:eQ,id:20200815,title:"vesselでmysqlのパスワードを変更しようとして困ったメモ",createdAt:"2020-08-15T00:00:00.000Z",thumbnail:W,category:eK,toc:[],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"vesselで.envのmysqlのパスワードを変更しようとしたとところ、変更できず困ったのでメモを残しておく。\nそもそもDockerを正しく理解できていない。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ともかく、以下を参照したらできた。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nvolumeを削除しないとだめなのかな。。。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:m,props:{href:"https:\u002F\u002Fvessel.shippingdocker.com\u002Fdocs\u002Fcommon-issues\u002F",rel:[M,N,O],target:P},children:[{type:a,value:"Vessel - Docker dev environments for Laravel"}]}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"# Spin down the containers\n.\u002Fvessel stop\n\n# Destroy the volume created\n## List volumes to find it\ndocker volume ls\n## Destroy the appropriate one\ndocker volume rm vesselexample_vesselmysql\n\n# Set a password within the .env file\nDB_PASSWORD=secret\n\n# Start the containers back up\n.\u002Fvessel start\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ログインして試してみたら、パスワードが変更されていた。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:".\u002Fvessel exec mysql mysql -u root -p\n"}]}]}]}]},dir:H,path:"\u002Fblog\u002F20200815",extension:I,updatedAt:J},{slug:"20200805",description:eQ,id:20200805,title:"ECRにDockerイメージをプッシュして、ECSのクラスターをつくって、EC2にコンテナを起動させる為のメモ",createdAt:"2020-08-05T00:00:00.000Z",thumbnail:eR,category:cp,toc:[{id:aE,depth:v,text:aE},{id:eS,depth:v,text:as},{id:aF,depth:v,text:aF},{id:Y,depth:v,text:Y},{id:bQ,depth:x,text:bQ},{id:ad,depth:x,text:ad}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:"ECRにDockerイメージをプッシュして、ECSのクラスターをつくって、EC2にコンテナを起動させる為のメモです。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n自分用のメモなのであまり参考にならないと思います。"}]},{type:a,value:c},{type:b,tag:w,props:{id:aE},children:[{type:b,tag:m,props:{href:"#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7%E7%B0%A1%E5%8D%98%E3%81%AAdocker%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aE}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"サンプルファイルをcloneする。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ git clone https:\u002F\u002Fgithub.com\u002Faws-samples\u002Fecs-demo-php-simple-app\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"cloneしたフォルダに移動。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ cd ecs-demo-php-simple-app\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"dockerイメージを作成。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ docker build -t amazon-ecs-sample .\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"コンテナを起動。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ docker run -d -p 80:80 --name amazon-ecs-sample amazon-ecs-sample:latest\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"http:\u002F\u002Flocalhost\u002F"}]},{type:a,value:"でアクセス。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F01.png",alt:aE},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:eS},children:[{type:b,tag:m,props:{href:"#ecr%E3%81%ABdocker%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%82%92push",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:as}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"AWSコンソールのECS \u003E ECRから、リポジトリを作成する。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F02.png",alt:as},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"リポジトリが作成されます。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\n次に「プッシュコマンドの表示」を押します。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F03.png",alt:as},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"プッシュコマンドを順番に実行していく。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F04.png",alt:as},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:ae,props:{},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"認証トークンを取得し、レジストリに対して Docker クライアントを認証します。\nAWS CLI を使用します。"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"aws ecr get-login-password --region ap-northeast-1 | docker login --username AWS --password-stdin XXXXXXXXXXX.dkr.ecr.ap-northeast-1.amazonaws.com\n"}]}]}]},{type:a,value:c},{type:b,tag:ae,props:{start:v},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"以下のコマンドを使用して、Docker イメージを構築します。"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"docker build -t amazon-ecs-sample .\n"}]}]}]},{type:a,value:c},{type:b,tag:ae,props:{start:x},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"構築が完了したら、このリポジトリにイメージをプッシュできるように、イメージにタグを付けます。"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"docker tag amazon-ecs-sample:latest XXXXXXXXXXX.dkr.ecr.ap-northeast-1.amazonaws.com\u002Famazon-ecs-sample:latest\n"}]}]}]},{type:a,value:c},{type:b,tag:ae,props:{start:4},children:[{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:"以下のコマンドを実行して、新しく作成した AWS リポジトリにこのイメージをプッシュします。"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"docker push XXXXXXXXXXX.dkr.ecr.ap-northeast-1.amazonaws.com\u002Famazon-ecs-sample:latest\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"リポジトリ内にイメージが作成される。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F05.png",alt:as},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:aF},children:[{type:b,tag:m,props:{href:"#%E3%82%BF%E3%82%B9%E3%82%AF%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:aF}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"EC2でコンテナを起動させるにはタスクを定義する必要があります。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nタスクとは複数のコンテナをグループにしたものです。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\ndocker-compose.ymlに似ている。\n起動するコンテナが1つでも複数でも定義が必要になる。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タスクはjsonファイルで登録することができるので、以下のサンプルを利用します。\n"},{type:b,tag:m,props:{href:eT,rel:[M,N,O],target:P},children:[{type:a,value:eT}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"◎ simple-app-task-def.json"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"{\n    \"family\": \"console-sample-app\",\n    \"volumes\": [\n        {\n            \"name\": \"my-vol\",\n            \"host\": {}\n        }\n    ],\n    \"containerDefinitions\": [\n        {\n            \"environment\": [],\n            \"name\": \"simple-app\",\n            \"image\": \"{ECRにアップロードしたイメージ}\",\n            \"cpu\": 10,\n            \"memory\": 500,\n            \"portMappings\": [\n                {\n                    \"containerPort\": 80,\n                    \"hostPort\": 80\n                }\n            ],\n            \"mountPoints\": [\n                {\n                    \"sourceVolume\": \"my-vol\",\n                    \"containerPath\": \"\u002Fvar\u002Fwww\u002Fmy-vol\"\n                }\n            ],\n            \"entryPoint\": [\n                \"\u002Fusr\u002Fsbin\u002Fapache2\",\n                \"-D\",\n                \"FOREGROUND\"\n            ],\n            \"essential\": true\n        },\n        {\n            \"name\": \"busybox\",\n            \"image\": \"busybox\",\n            \"cpu\": 10,\n            \"memory\": 500,\n            \"volumesFrom\": [\n            {\n              \"sourceContainer\": \"simple-app\"\n            }\n            ],\n            \"entryPoint\": [\n                \"sh\",\n                \"-c\"\n            ],\n            \"command\": [\n                \"\u002Fbin\u002Fsh -c \\\"while true; do \u002Fbin\u002Fdate \u003E \u002Fvar\u002Fwww\u002Fmy-vol\u002Fdate; sleep 1; done\\\"\"\n            ],\n            \"essential\": false\n        }\n    ]\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タスクを登録する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"aws ecs register-task-definition --cli-input-json file:\u002F\u002Fsimple-app-task-def.json\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"\"family\": \"console-sample-app\""}]},{type:a,value:"に定義した"},{type:b,tag:g,props:{},children:[{type:a,value:"console-sample-app"}]},{type:a,value:"というタスクが作成されます。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F06.png",alt:aF},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:w,props:{id:Y},children:[{type:b,tag:m,props:{href:ey,ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:Y}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"クラスターとは、タスクを配置するEC2インスタンス群のこと。タスクの実行環境になります。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"イメージとしてはこんな感じ（自信なし）？？"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F07.png",alt:Y},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:z,props:{id:bQ},children:[{type:b,tag:m,props:{href:"#%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%BF%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90%E6%89%8B%E9%A0%86",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bQ}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ECS \u003E クラスターから「クラスターを作成」を押す。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"「EC2 Linux + ネットワーキング」を選択して「次のステップ」を押す。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"とりあえず以下の設定して「作成」を押す。"}]},{type:a,value:df},{type:b,tag:ai,props:{},children:[{type:b,tag:aj,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:U,props:{},children:[{type:a,value:"項目"}]},{type:b,tag:U,props:{},children:[{type:a,value:"値"}]}]}]},{type:b,tag:ak,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"クラスター名"}]},{type:b,tag:u,props:{},children:[{type:a,value:"sample-cluster"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"EC2 インスタンスタイプ"}]},{type:b,tag:u,props:{},children:[{type:a,value:"t2.micro"}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"インスタンス数"}]},{type:b,tag:u,props:{},children:[{type:a,value:ax}]}]},{type:b,tag:D,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"キーペア"}]},{type:b,tag:u,props:{},children:[{type:a,value:"作成したもの"}]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:ez}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F08.png",alt:Y},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:z,props:{id:ad},children:[{type:b,tag:m,props:{href:"#%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%BF%E3%83%BC%E3%81%A7%E3%82%BF%E3%82%B9%E3%82%AF%E3%82%92%E5%AE%9F%E8%A1%8C",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:ad}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タブの「タスク」から「新しいタスクの実行」を押す。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F09.png",alt:ad},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"以下の設定をして「タスクの実行」を押す。"}]},{type:a,value:c},{type:b,tag:t,props:{path:eU,alt:ad},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"タスクが実行されインスタンスが作成されます。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F11.png",alt:ad},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"インスタンスのパブリックDNSでアクセスしてみると、以下の画面が表示されます。"}]},{type:a,value:c},{type:b,tag:t,props:{path:"blog\u002Fimages\u002F20200805\u002F12.png",alt:ad},children:[{type:a,value:c}]}]},dir:H,path:"\u002Fblog\u002F20200805",extension:I,updatedAt:J},{slug:"20200803",description:eV,id:20200803,title:"ECS-CLIを利用してdockerで環境構築のメモ",createdAt:"2020-08-03T00:00:00.000Z",thumbnail:eR,category:cp,toc:[{id:bR,depth:v,text:bR},{id:bS,depth:v,text:bS}],body:{type:F,children:[{type:b,tag:e,props:{},children:[{type:a,value:eV}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ECS-CLIをインストール。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ brew install amazon-ecs-cli\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"AWS環境にアクセスする為のアクセスキーはecs-cli configureで設定する。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nAWS Access Key IDとAWS Secret Access KeyはIAMの認証情報を利用する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$aws configure\nAWS Access Key ID [None]:\nAWS Secret Access Key [None]:\nDefault region name [None]:\nDefault output format [None]:\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"設定を確認する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ aws configure list\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ECSクラスタの作成。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ecs-cli configure --region ap-northeast-1 --cluster my-ecs-cluster\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"確認する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ cat ~\u002F.ecs\u002Fconfig\nversion: v1\ndefault: default\nclusters:\n  default:\n    cluster: my-ecs-cluster\n    region: ap-northeast-1\n    default_launch_type: \"\"\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"ECSインスタンスコンテナを起動する。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ecs-cli up --keypair {EC2でのkeypair名} --capability-iam --size 2 --instance-type t2.micro\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"--keypairオプションに間違ってローカルのkeypairのパスを指定してしまった為に、以下のエラーが発生しました。"},{type:b,tag:s,props:{},children:[]},{type:a,value:"\nEC2上のkeypair名を指定します。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ecs-cli up --keypair \u002F.ssh\u002FkeyPair.pem --capability-iam --size 2 --instance-type t2.micro \nINFO[0002] Created cluster                               cluster=ecs-cli-test ap-northeast-1\nINFO[0003] Waiting for your CloudFormation stack resources to be deleted...\nINFO[0003] Cloudformation stack status                   stackStatus=\"DELETE_IN_PROGRESS\"\nINFO[0038] Waiting for your cluster resources to be created...\nINFO[0038] Cloudformation stack status                   stackStatus=\"CREATE_IN_PROGRESS\"\nINFO[0101] Cloudformation stack status                   stackStatus=\"CREATE_IN_PROGRESS\"\nINFO[0164] Cloudformation stack status                   stackStatus=\"CREATE_IN_PROGRESS\"\nERRO[0197] Failure event                                 reason=\"The key pair 'my-key-pair' does not exist\" resourceType=\"AWS::AutoScaling::LaunchConfiguration\"\nFATA[0197] Error executing 'up': Cloudformation failure waiting for 'CREATE_COMPLETE'. State is 'ROLLBACK_IN_PROGRESS'\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"エラーになってサイド実行するときは "},{type:b,tag:g,props:{},children:[{type:a,value:"--force"}]},{type:a,value:"オプションをつけて上書きする。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ecs-cli up --keypair keyPair --capability-iam --size 2 --instance-type t2.micro --force\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"EC2にインスタンスが作成される。"}]},{type:a,value:c},{type:b,tag:t,props:{path:eU,alt:"EC2にインスタンスが作成される"},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"docker-compose.ymlを作成。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"wordpress:\n  image: wordpress\n  mem_limit: 268435456\n  ports:\n    - \"80:80\"\n  links:\n    - mysql\n\nmysql:\n  image: mysql\n  mem_limit: 268435456\n  environment:\n    MYSQL_ROOT_PASSWORD: password\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"起動。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"ecs-cli compose -f docker-compose.yml up\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"起動を確認。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ecs-cli ps\n\nName                                            State            Ports                    TaskDefinition  Health\n7eb2a903-3ee5-47ed-a539-f5b3863c04a7\u002Fwordpress  RUNNING          54.199.113.4:80-\u003E80\u002Ftcp  Desktop:6       UNKNOWN\n7eb2a903-3ee5-47ed-a539-f5b3863c04a7\u002Fmysql      RUNNING　　　　　　　　　　　　　　　　　　　　　Desktop:6       UNKNOWN\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"コンテナが起動しなかった場合や、停止してしまった場合は"},{type:b,tag:g,props:{},children:[{type:a,value:"service up"}]},{type:a,value:"で再起動してみる。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ecs-cli compose -f docker-compose.yml  service up\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:bR},children:[{type:b,tag:m,props:{href:"#%E3%81%9D%E3%81%AE%E4%BB%96",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bR}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"サービスを削除。\n作成されたEC2も削除される。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ecs-cli compose -f .\u002Fdocker-compose.yml service rm\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"コンテナを表示。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ecs-cli ps\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"コンテナをすべて削除。"}]},{type:a,value:c},{type:b,tag:h,props:{className:[i]},children:[{type:b,tag:j,props:{className:[l,k]},children:[{type:b,tag:g,props:{},children:[{type:a,value:"$ ecs-cli down --force\n"}]}]}]},{type:a,value:c},{type:b,tag:w,props:{id:bS},children:[{type:b,tag:m,props:{href:"#%E5%8F%82%E8%80%83",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:bS}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:m,props:{href:"https:\u002F\u002Fqiita.com\u002Ffuru8ma\u002Fitems\u002F6a7bd4d85617ef55f2c6",rel:[M,N,O],target:P},children:[{type:a,value:"ローカルで使用したdocker-compose.ymlを使ってECS上でコンテナを起動する"}]}]}]},dir:H,path:"\u002Fblog\u002F20200803",extension:I,updatedAt:J}]}],fetch:{},mutations:void 0}}("text","element","\n","span","p","token","code","div","nuxt-content-highlight","pre","line-numbers","language-text","a","punctuation","true",-1,"icon","icon-link","br","dynamic-image","td",2,"h2",3," ","h3","keyword","(",")","tr","li","root","language-shell","\u002Fblog",".md","2022-01-04T23:50:16.676Z","function","operator","nofollow","noopener","noreferrer","_blank","number",".","{","}","th","\n  ","blog\u002Fimages\u002Fnote_thumb.png","前提","クラスターを作成","h1","class-name","サービスを作成する","アニメーションさせる","ul","h4","クラスターでタスクを実行","ol","strong","アプリケーションとデプロイグループを作成","パイプラインを作成","table","thead","tbody","const","=","blockquote","for","\n    ","githubを接続","タスクを作成","ECRにdockerイメージをpush","\n\n\n","builtin","[","]","2","3","cronの例","2021","PhpStormでリモートSSHする方法","コンテンツに応じた塗りつぶし","ECRにイメージを登録","ローカルで簡単なdockerコンテナを起動する","タスクを定義する","Vue","単位をセンチメートルにする","Javascript","画像をアップロード","更新するrcファイルへのパスを入力するか、空白のままにして使用します","設定ファイルをアップロード","language-typescript","file","comment","await","Y\u002Fn","\u003C","\u003E","パッケージの依存関係を確認する","取りあえずの対処の場合","AWS","curlコマンドで取得","ec2-metadataコマンドで取得","Other","パーミッションの変更","文字数が少ない","長い読み込み時間","メタディスクリプションの重複","解決方法","オブジェクトを配置","グラデーションで塗る","presetの選択","機能を選択","クラススタイルでコンポーネントの利用","設定の保存","テストユーザーを作成","を実行。","に以下を追加。","http:\u002F\u002Flocalhost\u002Fapi\u002Fuser","テストのリストを表示","テストを実行する","特定のファイルのテストを実行する","特定のファイルの特定のテストを実行する","対処法1","対処法2","対処法3","return",":","this","cronとは","cronのコマンド","起動確認","登録済みのcronを確認","cronの削除","23","手順","使い方","自動デプロイの流れ","クライアント側の設定","パイプラインの設定","ソースステージを追加する","ビルドステージを追加する","デプロイステージを追加する","dockerイメージを作成する","herokuを利用してnuxtをSSRでホスティングする","問題","ユーザーを確認","ユーザーを作成して、権限や認証方式を変更","まとめ","クラスターの作成手順","その他","参考","Storageのセキュリティルールを変更","\n\n","string","y\u002FN","?\n","PHP","1","Vue ","export","default","class","Index","extends","head","\n      title","posts",";","crontab","cat","\nThu Sep ","h5","イベントフック","\u002Fetc\u002Fhttpd\u002Fconf\u002Fhttpd.conf","#%E5%89%8D%E6%8F%90","Docker","blog\u002Fimages\u002Fblender_thumb.png","Blender","オブジェクトにシェイプキーを追加する","シェイプキーを追加","windowオブジェクトをmock化する","単位変更","よく忘れるショートカット","blog\u002Fimages\u002Ffirebase_thumb.png","ログイン","プロジェクトディレクトリを設定する","firebase-storageのバケットを作成する","Firebase Storageのバケットを作成する","storageのセキュリティルールを変更","corsに対応","CORSに対応","google-cloud-sdkの改善に協力しますか（y--n）？","google Cloud SDKの改善に協力しますか（Y \u002F n）？","プロファイルを変更してpathを更新し、シェルコマンドを有効にして完了しますか？","プロファイルを変更して$PATHを更新し、シェルコマンドを有効にして完了しますか？","cloud-sdkは、python-37と特定のモジュールが最適です","Cloud SDKは、Python 3.7と特定のモジュールが最適です","ターミナル-ウィンドウを立ち上げ直す","ターミナル ウィンドウを立ち上げ直す","sdkを初期化","SDKを初期化","リージョンを選択","を参照。","async"," firebase","こちら","\u002FUsers\u002Fhoge\u002F.bash_profile","3.7","your-cloud-storage-bucket",20210121,"2021-10-21T00:00:00.000Z","インスタンスメタデータとは","https:\u002F\u002Fdocs.aws.amazon.com\u002Fja_jp\u002FAWSEC2\u002Flatest\u002FUserGuide\u002Fec2-instance-metadata.html:embed:cite","取得方法","ami-idを取得したい場合は、","curlコマンドとec2-metadataの使い分け","パーミッションについて","2021-10-18T00:00:00.000Z","パーミッション","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","権限","4","5","seo問題","SEO問題","メタディスクリプションの書き方","blog\u002Fimages\u002Fvue_thumb.png","pixiアプリケーション生成","Pixiアプリケーション生成","vueアプリケーションを作成する","Vueアプリケーションを作成する","vueのバージョンを選択","Vueのバージョンを選択","babel-alongside-typescriptの利用","Babel alongside TypeScriptの利用","vue-routerのヒストリーモードの利用","Vue Routerのヒストリーモードの利用","cssプリプロセッサの選択","CSSプリプロセッサの選択","linterformatterの設定","Linter\u002FFormatterの設定","追加のlint機能の選択","追加のLint機能の選択","unit-testのツール選択","Unit Testのツール選択","babel、postcss、eslintの設定ファイル","Babel、PostCSS、ESLintの設定ファイル"," babel, eslint","select","Use arrow keys","Laravel Passportを利用した場合のメモ。","リクエストしてみるpersonal-access-token","リクエストしてみる(Personal Access Token)","リクエストしてみるpassword-grant-token","リクエストしてみる(Password Grant Token)","Password grant client","http:\u002F\u002Flocalhost\u002Fapi\u002Ftest","リクエストヘッダーに","Authorization : Bearer eyJ0eXAiOiJKV1QiL...","をつけて、","user情報が返却される。","{\n  \"id\": 1,\n  \"name\": \"taro\",\n  \"email\": \"taro@example.com\",\n  \"email_verified_at\": null,\n  \"created_at\": null,\n  \"updated_at\": null\n}\n","object-is-possibly-null","Object is possibly 'null'.","ts2307-cannot-find-module-xxxxx-or-its-corresponding-type-declarations","TS2307: Cannot find module 'XXXXX' or its corresponding type declarations.","eslint-type-boolean-trivially-inferred-from-a-boolean-literal-remove-type-annotationtypescript-eslintno-inferrable-types","ESLint: Type boolean trivially inferred from a boolean literal, remove type annotation.(@typescript-eslint\u002Fno-inferrable-types)",","," posts ","title\n    ","!","cronの追加編集","cronの追加(編集)","ec2-user@ip-10-0-0-84 ~"," \u002Ftmp\u002Fa.txt\n",20210504,"「コンテンツに応じた塗りつぶし」","https:\u002F\u002Fcontent.nuxtjs.org\u002Fja","ec2の設定","EC2の設定","codedeploy-エージェントをインストールする","CodeDeploy エージェントをインストールする","codedeployの設定","CodeDeployの設定","codepipelineの設定","CodePipelineの設定","cgiを追加","CGIを追加","ecrにイメージを登録","ecsを作成","ECSを作成","#%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%BF%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90","クラスターが作成される。","basic認証","BASIC認証","digest認証","DIGEST認証","ユーザー名とパスワードを設定する。","Apacheを起動。","$ sudo service httpd start\n","vesselで作ったらローカルの開発環境を、EC2にそのまま作る手順のメモです。","ec2にlaravelのプロジェクトファイルをcloneする","EC2にLaravelのプロジェクトファイルをcloneする","Mysql","envの設定",".envの設定","◎ユーザーを追加","◎権限を変更","◎認証方式の変更","vesselで.envのmysqlのパスワードを変更しようとしたとところ、変更できず困ったので。","blog\u002Fimages\u002Fdocker_thumb.png","ecrにdockerイメージをpush","https:\u002F\u002Fgithub.com\u002Faws-samples\u002Fecs-demo-php-simple-app\u002Fblob\u002Fmaster\u002Fsimple-app-task-def.json","blog\u002Fimages\u002F20200805\u002F10.png","ローカルのdocker-composeファイルを利用して、AWS上にEC2とコンテナを立ててみる為のメモです。")));